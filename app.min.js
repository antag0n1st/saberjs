function ThresholdFilter(t){var e=PIXI.utils.string2hex(t||"#0000ff"),i=PIXI.utils.hex2rgb(e);PIXI.Filter.call(this,null,["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform float threshold;","uniform float tolerance;","void main(void)","{","    vec4 color = texture2D(uSampler, vTextureCoord);","    vec3 mcolor = vec3("+i[0]+", "+i[1]+", "+i[2]+");","    if (color.a > threshold - tolerance && color.a < threshold + tolerance ) {","       gl_FragColor =color;","    } else if (color.a > threshold ) {","       gl_FragColor = vec4(mcolor, color.a);","    } else {","       gl_FragColor = vec4(vec3(0.0), 0.0);","    }","}"].join("\n"),{threshold:.5,tolerance:.003})}!function(t){function e(){this.initialize()}e.prototype.initialize=function(){this.width=0,this.height=0,this.canvasWidth=0,this.canvasHeight=0,this.windowWidth=0,this.windowHeight=0,this.device=new Device(this),null!==Config.window_mode_mobile&&(this.device.isMobile.phone||this.device.isMobile.tablet)&&(Config.window_mode=Config.window_mode_mobile,this.device.calculateSizes()),this.device.isIOS&&(PIXI.settings.PRECISION_FRAGMENT=PIXI.PRECISION.HIGH);var e={resolution:1,width:this.width,height:this.height};this.pixi=new PIXI.Application(e),this.layoutCanvas(),this.pixi.ticker.add(this.tick,this),this.stage=this.pixi.stage,this.screen=this.pixi.screen,this.loader=PIXI.Loader.shared,this.input=new Input(this,this.pixi.renderer.view),this.navigator=new HNavigator(this),this.initialLoad(function(){this.loadAssets(),ContentManager.downloadResources(function(){if(app.navigator.currentScreen.loadingBar.setPercent(1,!0),!t[Config.initialScreen])throw Config.initialScreen+" - is not Defined";var e=applyToConstructor(t[Config.initialScreen],Config.initialScreenArgs);app.navigator.add(e),Config.rotation_mode&&(this.rotate_layer=new RotateLayer),this.checkRotation()},this)}),Config.debug&&(this.debugLayer=new PIXI.Graphics,this.debugLayer.zIndex=100,this.stage.addChild(this.debugLayer)),Visibility.change(function(t,e){app.handleVisibility("visible"===e)})},e.prototype.initialLoad=function(t){ContentManager.addImage("rotate_device_to_landscape","initial/rotate_device_to_landscape.png"),ContentManager.addImage("rotate_device_to_portrait","initial/rotate_device_to_portrait.png"),ContentManager.downloadResources(function(){var e=new LoadingScreen;app.navigator.add(e),t&&t.call(this),t=null},this)},e.prototype.layoutCanvas=function(){document.body.appendChild(this.pixi.view),Config.window_mode!==Config.MODE_NONE&&(this.pixi.view.style.width=this.canvasWidth+"px",this.pixi.view.style.height=this.canvasHeight+"px"),Config.window_mode===Config.MODE_CENTERED?this.adjustCanvasPositionCentered(this.pixi.view):Config.window_mode===Config.MODE_PADDING&&this.adjustCanvasPositionPadding(this.pixi.view)},e.prototype.debugStage=function(t){t=t||this.stage.children;for(var e=0;e<t.length;e++){var i=t[e];this.drawItem(i,this.debugLayer),i.children&&this.debugStage(i.children)}},e.prototype.drawItem=function(t,e){var i=t.getSensor();if(i)if(i instanceof SAT.Circle){var o=i.pos;e.beginFill(0,.3),e.lineStyle(2,0),e.drawCircle(o.x,o.y,i.r),e.endFill()}else{o=i.pos;var n=i.points;e.beginFill(0),e.lineStyle(1,0),e.drawCircle(o.x,o.y,2);for(var s=0;s<n.length;s++)e.moveTo(o.x+n[s].x,o.y+n[s].y),s===n.length-1?e.lineTo(o.x+n[0].x,o.y+n[0].y):e.lineTo(o.x+n[s+1].x,o.y+n[s+1].y);e.endFill()}},e.prototype.tick=function(t){var e=this.pixi.ticker.elapsedMS;e=e>50?50:e,Actions.update(e),this.navigator.update(e),Config.debug&&(this.debugLayer.clear(),this.debugStage())},e.prototype.adjustCanvasPositionCentered=function(t){var e=this.windowWidth-this.canvasWidth,i=this.windowHeight-this.canvasHeight;t.style.marginLeft=Math.ceil(e/2)+"px",t.style.marginTop=Math.ceil(i/2)+"px"},e.prototype.adjustCanvasPositionPadding=function(t){var e=Config.canvas_padding.split(" ");t.style.marginLeft=Math.ceil(e[3])+"px",t.style.marginTop=Math.ceil(e[0])+"px"},e.prototype.handleVisibility=function(t){app.navigator.currentScreen&&app.navigator.currentScreen.onVisibilityChange(t),t?Config.is_sound_on&&Howler.mute(!1):Howler.mute(!0)},e.prototype.resize=function(e){var i=!0;i=void 0===e?Config.is_canvas_auto_layout:e;app.windowWidth,app.windowHeight,app.windowWidth,app.windowHeight,app.windowWidth,app.windowHeight;this.device.calculateSizes(),app.device.isKeyboardTheSource||(i=!0,app.device.isKeyboardUp&&(t.scrollTo(0,0),app.navigator.currentScreen.inputField.blur(),app.device.isKeyboardUp=!1,app.device.isKeyboardTheSource=!0)),i&&(this.pixi.view.style.width=Math.ceil(this.canvasWidth)+"px",this.pixi.view.style.height=Math.ceil(this.canvasHeight)+"px",this.pixi.renderer.resize(this.width,this.height),Config.window_mode===Config.MODE_CENTERED?this.adjustCanvasPositionCentered(this.pixi.view):Config.window_mode===Config.MODE_PADDING&&this.adjustCanvasPositionPadding(this.pixi.view)),this.input.recalucateOffset();for(var o=0;o<this.navigator.screens.length;o++){this.navigator.screens[o]._onResize(this.width,this.height)}i&&this.rotate_layer&&(this.checkRotation(),this.rotate_layer.onResize()),app.device.isKeyboardTheSource=!1},e.prototype.checkRotation=function(){if(Config.window_mode===Config.MODE_CENTERED)return!1;Config.rotation_mode===Config.ROTATION_MODE_HORIZONTAL?app.windowWidth<app.windowHeight?this.showRotateDevice():this.hideRotateDevice():Config.rotation_mode===Config.ROTATION_MODE_VERTICAL&&(app.windowWidth>app.windowHeight?this.showRotateDevice():this.hideRotateDevice())},e.prototype.showRotateDevice=function(){this.isRotationLayerShown||(this.isRotationLayerShown=!0,this.stage.addChild(this.rotate_layer),this.navigator.currentScreen.isPaused=!0,this.input.isBlocked=!0,Actions.pause(),Config.is_sound_on&&Howler.mute(!0))},e.prototype.hideRotateDevice=function(){this.isRotationLayerShown&&(this.isRotationLayerShown=!1,this.rotate_layer.removeFromParent(),this.navigator.currentScreen.isPaused=!1,this.input.isBlocked=!1,Actions.resume(),Config.is_sound_on&&Howler.mute(!1))},t.App=e}(window),function(t,e){var i=i||function(){throw"can't initialize this class"};i.DEFAULT_INPUT={fill:"#ffffff",fontFamily:"Arial Black",fontSize:30,background:"rounded",dropShadowDistance:0},i.MULTY_LINE_LABEL={breakWords:!0,wordWrap:!0,wordWrapWidth:800,fill:"#999999",fontFamily:"Arial Black",fontSize:30,dropShadow:!0,dropShadowColor:"#000000",dropShadowDistance:1},i.DEFAULT_LABEL={fill:"#ffffff",fontFamily:"Arial Black",fontSize:50,dropShadow:!0,dropShadowColor:"#000000",dropShadowDistance:5,dropShadowBlur:10},i.DEFAULT_BUTTON={fill:"#ffffff",imageNormal:"_default_button",imageSelected:"_default_button",fontFamily:"'Arial Black', Gadget, sans-serif",fontSize:30},i.ROUNDED_BUTTON={fill:"#cccccc",imageNormal:"button",imageSelected:"button",fontFamily:"Arial Black",fontSize:30},t.Style=i}(window),window.addEventListener("load",function(){Config.lang="en",PIXI.utils.skipHello(),app=new App;for(var t=1;t<15;t++)timeout(function(){app.device.isKeyboardUp||app.resize(!0)},100*t)},!1),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screen_initialize=i.prototype.initialize,i.prototype.initialize=function(){this.screen_initialize(),this.background=new Sprite("white"),this.background.stretch(app.width,app.height),this.background.visible=!0,this.background.tint=4247011,this.addChild(this.background),this.logo=new Sprite(null),this.logo.centered(),this.addChild(this.logo),this.isAnimating=!0,this.loadingBar=new LoadingBar({background:"white",backgroundIsSliced:!0,backgroundWidth:400,backgroundHeight:40,backgroundPadding:"1 1 1 1",backgroundTint:747381,foreground:"white",foregroundIsSliced:!0,foregroundWidth:400,foregroundHeight:40,foregroundPadding:"1 1 1 1",foregroundTint:12252927,offsetX:0,offsetY:0,isAnimated:!1,animationSpeed:0,showPercent:!0}),this.addChild(this.loadingBar),this.lastLoadedCount=0,this.setPositions()},i.prototype.setPositions=function(){var t=app.width/2,e=app.height;this.logo.position.set(t,.45*e),this.loadingBar.position.set(t,.75*e),this.background.position.set(-10,-10),this.background.width=1.2*app.width,this.background.height=1.2*app.height},i.prototype.onUpdate=function(t){var e=ContentManager.countToLoad,i=ContentManager.countLoaded,o=i/e;o=o<=0?.01:o,o=0===e?1:o,i&&this.lastLoadedCount!=i&&(this.lastLoadedCount=i,this.loadingBar.setPercent(o))},i.prototype.onResize=function(){this.setPositions()},t.LoadingScreen=i}(window),Notes.UNLOCK_COLLECTION_TROPHY="unlock collection trophy",Notes.RADIO_BUTTON_SELECTED="radio button selected",Notes.CHECK_BOX_SELECTED="check box selected",Notes.CHECK_BOX_UNSELECTED="check box unselected",Notes.DRAGGABLE_ITEM_SELECTED="draggable item selected",Notes.DRAGGABLE_ITEM_MOVED="draggable item moved",Notes.DRAGGABLE_ITEM_DROPPED="draggable item dropped",Notes.ACTIVITY="activity",Notes.QUESTION_LOGGED="question logged",Notes.CHAPTER_COMPLETED="chapter completed",Notes.WEIGHT_ITEM_DROPPED="weight item dropped",Notes.WEIGHT_ITEM_SELECTED="WEIGHT_ITEM_SELECTED",Notes.SORTABLE_ITEM_SELECTED="sortable item selected",Notes.SORTABLE_ITEM_MOVED="sortable item moved",Notes.SORTABLE_ITEM_DROPPED="sortable item dropped",Notes.CHANGE_CURSOR="change cursor",Notes.CLOCK_SELECTED="clock selected",Notes.ENTER_KEY_PRESSED="enter key pressed",function(t,e){function i(){this.initialize()}i.prototype=new Sprite,i.prototype.spriteInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.spriteInitialize(),this.drawingLayer=new PIXI.Graphics,this.addChild(this.drawingLayer),this.drawingLayer.clear(),this.drawingLayer.beginFill(0),this.drawingLayer.drawRect(-50,-50,app.width+100,app.height+100);var t="rotate_device_to_portrait";Config.rotation_mode===Config.ROTATION_MODE_HORIZONTAL&&(t="rotate_device_to_landscape"),this.rotate=new Sprite(t),this.rotate.anchor.set(.5,.5),this.addChild(this.rotate),this.rotateLabel=new Label,this.rotateLabel.anchor.set(.5,.5),this.rotateLabel.txt=lang("Please rotate your device"),this.rotateLabel.style.fill="#ffffff",this.rotateLabel.style.fontSize=80,this.addChild(this.rotateLabel),this.setPositions(),this.zIndex=99999999999},i.prototype.setPositions=function(){this.rotate.position.set(app.width/2,app.height/2-100),this.rotateLabel.position.set(app.width/2,app.height/2+100)},i.prototype.onResize=function(){this.setPositions(),this.drawingLayer.clear(),this.drawingLayer.beginFill(0),this.drawingLayer.drawRect(-50,-50,app.width+100,app.height+100)},t.RotateLayer=i}(window),App.prototype.loadAssets=function(){ContentManager.addFile("example","assets/data/example.json"),ContentManager.addFile("menu","assets/data/menu.json"),ContentManager.addImage("_default_button","_default_button.png"),ContentManager.addImage("_default_input","_default_input.png"),ContentManager.addImage("blur-guide","blur-guide.png"),ContentManager.addImage("circle-blur","circle-blur.png"),ContentManager.addImage("circle","circle.png"),ContentManager.addImage("favicon","favicon.png"),ContentManager.addImage("keyboard-key","keyboard/keyboard-key.png"),ContentManager.addImage("keyboard_backspace","keyboard/keyboard_backspace.png"),ContentManager.addImage("keyboard_capitalize","keyboard/keyboard_capitalize.png"),ContentManager.addImage("keyboard_symbols","keyboard/keyboard_symbols.png"),ContentManager.addImage("rounded-10","rounded/rounded-10.png"),ContentManager.addImage("rounded-15","rounded/rounded-15.png"),ContentManager.addImage("rounded-20","rounded/rounded-20.png"),ContentManager.addImage("rounded-30","rounded/rounded-30.png"),ContentManager.addImage("rounded-5","rounded/rounded-5.png"),ContentManager.addImage("sample","sample.jpg"),ContentManager.addFile("en","assets/localization/en.txt")},function(t,e){function i(){this.initialize()}i.prototype=new Sprite,i.prototype.spriteInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.spriteInitialize("circle-blur"),this.velocity=new V},i.prototype.onUpdate=function(t){this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t},i.prototype.setData=function(t,e,i){},i.prototype.onImport=function(t){},t.Goo=i}(window),function(t,e){function i(t,e,i,o){this.initialize(t,e,i,o)}i.prototype.initialize=function(t,e,i,o){this.x=t,this.y=e,this.length=i||100,this.angle=o,this.parent=null},i.prototype.getEndX=function(){return this.x+Math.cos(this.angle)*this.length},i.prototype.getEndY=function(){return this.y+Math.sin(this.angle)*this.length},i.prototype.render=function(t){t.lineStyle(5,16711935,1),t.moveTo(this.x,this.y),t.lineTo(this.getEndX(),this.getEndY())},i.prototype.pointAt=function(t,e){var i=t-this.x,o=e-this.y;this.angle=Math.atan2(o,i)},i.prototype.drag=function(t,e){this.pointAt(t,e),this.x=t-Math.cos(this.angle)*this.length,this.y=e-Math.sin(this.angle)*this.length,this.parent&&this.parent.drag(this.x,this.y)},t.Arm=i}(window),function(t,e){function i(t,e){this.initialize(t,e)}i.prototype.initialize=function(t,e){this.x=t,this.y=e,this.arms=[],this.lastArm=null},i.prototype.addArm=function(t){var e=new Arm(0,0,t,0);this.lastArm?(e.x=this.lastArm.getEndX(),e.y=this.lastArm.getEndY(),e.parent=this.lastArm):(e.x=this.x,e.y=this.y),this.arms.push(e),this.lastArm=e},i.prototype.render=function(t){for(var e=0;e<this.arms.length;e++)this.arms[e].render(t)},i.prototype.drag=function(t,e){this.lastArm.drag(t,e)},t.IKSystem=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new Sprite,i.prototype.spriteInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.spriteInitialize()},i.prototype.onUpdate=function(t){},i.prototype.setData=function(t,e,i){},i.prototype.onImport=function(){},t.MyLine=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize(),this.setBackgroundColor("#ffffff"),this.content=new Layer,this.addChild(this.content),this.importer=new Importer(this),"editor"===Config.name?this.importer.importObjects(previewData,this.content):this.importer.importObjects(ContentManager.jsons.animation.objects,this.content);new TableView},i.prototype.onUpdate=function(t){},i.prototype.onShow=function(){},i.prototype.onHide=function(){},i.prototype.onMouseDown=function(t,e){},i.prototype.onMouseMove=function(t,e){},i.prototype.onMouseUp=function(t,e){},i.prototype.onMouseCancel=function(t){},i.prototype.onRightMouseDown=function(t){},i.prototype.onRightMouseMove=function(t){},i.prototype.onRightMouseUp=function(t){},i.prototype.onNote=function(t,e,i){},i.prototype.onResize=function(){this._background.width=app.width},i.prototype.destroy=function(){},t.DashboardScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize();for(var t=0;t<10;t++)for(var e=0;e<10;e++){var i=new Sprite("white");i.centered(),i.width=220,i.height=150,i.tint=16777215,i.position.set(100+e*app.width/10,65+t*app.height/10),i.x+=Math.randomInt(-20,20),i.y+=Math.randomInt(-20,20),i.rotation=Math.degreesToRadians(Math.randomInt(-30,30)),this.addChild(i);var o=new Sprite("white");o.centered(),o.width=200,o.height=130,o.tint=4360181,o.position.copy(i),o.rotation=i.rotation,this.addChild(o)}},i.prototype.onUpdate=function(t){},i.prototype.onShow=function(){},i.prototype.onHide=function(){},i.prototype.onMouseDown=function(t,e){},i.prototype.onMouseMove=function(t,e){},i.prototype.onMouseUp=function(t,e){},i.prototype.onMouseCancel=function(t){},i.prototype.onRightMouseDown=function(t){},i.prototype.onRightMouseMove=function(t){},i.prototype.onRightMouseUp=function(t){},i.prototype.onNote=function(t,e,i){},i.prototype.onResize=function(){},i.prototype.destroy=function(){},t.DevScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize();var t=new PIXI.Container;this.addChild(t);for(var e=0;e<50;e++){var i=new Goo;i.velocity.setLength(Math.randomFloat(0,.2)),i.velocity.setAngle(Math.degreesToRadians(Math.randomInt(0,360))),i.anchor.set(.5),i.position.set(Math.randomInt(0,app.width),Math.randomInt(0,app.height)),t.addChild(i)}var o=new ThresholdFilter("#ff0000");o.threshold=.3,t.filters=[o],t.filterArea=new PIXI.Rectangle(0,0,app.width,app.height);var n=new Sprite("blur-guide");n.x=app.width,t.addChild(n);var s=new Sprite("white");s.stretch(app.width,app.height),s.x=n.x+n.width,t.addChild(s),this.addTouchable(this),this.guide=n,this.wall=s,this.stage=t},i.prototype.postUpdate=function(t,e){},i.prototype.onUpdate=function(t,e){},i.prototype.onMouseDown=function(t,e){},i.prototype.onMouseMove=function(t,e){var i=this.guide,o=this.wall;i.x=t.point.x-50,o.x=i.x+i.width},t.GooeyScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize(),this.setBackgroundColor("#0e8477"),this.content=new InputContent(this),this.addTouchable(this.content),this.addChild(this.content);var t=new Button("back",Style.DEFAULT_BUTTON);t.setSensorSize(220,100),t.onMouseDown=function(){Sounds.click.play(),app.navigator.goBack()},t.position.set(100+t.background.width/2,50),this.content.addChild(t),this.addTouchable(t);var e=new Label(Style.DEFAULT_LABEL);e.position.set(100,100),e.txt="This is the Text.",this.content.addChild(e);var i=new Label(Style.MULTY_LINE_LABEL);i.position.set(100,200),i.txt="Most people look forward to retiring, and Burlington native Dennis Woody, 66, is no exception. The sales manager began his career in 1971 as a truck drive for the company, which was once called R.F. Kilpatrick and Sons. ",this.content.addChild(i);var o=new Button("button",Style.DEFAULT_BUTTON);o.onMouseDown=function(){log("btn clicked")},o.position.set(100+o.background.width/2,450),this.content.addChild(o),this.addTouchable(o);var n=new Button("STRETCHED BUTTON",Style.ROUNDED_BUTTON,Button.TYPE_NINE_SLICE);n.background.setSize(500,100),n.setSensorSize(500,100),n.onMouseDown=function(){log("round btn clicked")},n.position.set(100+n._width/2,550),this.content.addChild(n),this.addTouchable(n);var s=new Label(Style.DEFAULT_LABEL);s.position.set(1e3,100),s.txt="Table View",this.content.addChild(s);var a=new NineSlice("rounded","15");a.setSize(320,520),a.position.set(1150,450),this.content.addChild(a);for(var r=[],p=0;p<20;p++)r.push({text:"Data Text "+p});this.tableview=new TableView,this.tableview.setCellType(TableCell),this.tableview.setSize(300,500),this.tableview.setData(r),this.tableview.initCells(),this.tableview.position.set(1e3,200),this.content.addChild(this.tableview),this.addTouchable(this.tableview),this.input1=new InputField(Style.DEFAULT_INPUT,InputField.TYPE_ALL),this.input1.setSize(400,80),this.input1.position.set(1600,200),this.input1.hasNext=!0,this.input1.setPlaceholder("Placeholder"),this.content.addChild(this.input1),this.content.addInput(this.input1),this.input2=new InputField(Style.DEFAULT_INPUT,InputField.TYPE_NUMERIC_SYMBOLS),this.input2.setSize(400,120),this.input2.setFontSize(50),this.input2.position.set(1600,320),this.input2.hasNext=!0,this.content.addChild(this.input2),this.content.addInput(this.input2),this.input3=new InputField(Style.DEFAULT_INPUT,InputField.TYPE_ALPHABETIC),this.input3.setSize(400,80),this.input3.setFontSize(50),this.input3.position.set(1600,440),this.content.addChild(this.input3),this.content.addInput(this.input3),this.scrollView=new ScrollView,this.scrollView.setSize(500,300),this.scrollView.setContentSize(700,533),this.scrollView.position.set(100,700),this.content.addChild(this.scrollView),this.addTouchable(this.scrollView);var h=new Sprite("photo");this.scrollView.content.addChild(h),this.loadingBar=new LoadingBar("_loading_bar_fg","_loading_bar_bg"),this.loadingBar.position.set(800,1e3),this.loadingBar.setPercent(.2,!0),this.addChild(this.loadingBar);var d=[];for(p=0;p<20;p++){var c=new Sprite("white"),l=Math.randomInt(10,100),u=Math.randomInt(10,100);c.stretch(l,u),c.setSensorSize(l,u),d.push(c),this.addChild(c)}Layout.hbox(d,400,1450,600,5,"compact")},i.prototype.onUpdate=function(t){},i.prototype.onShow=function(){},i.prototype.onHide=function(){},i.prototype.onResize=function(){},t.GuiScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize(),this.TYPE=i.TYPE,this.importer=new Importer(this),this.content=new Layer,this.addChild(this.content),this._screenPosition=new V,this.importer.importObjects(ContentManager.jsons.stage.objects,this.content),this.addTouchable(this)},i.prototype.onMouseDown=function(t,e){log("down")},i.prototype.onMouseMove=function(t,e){log("move")},i.prototype.onMouseUp=function(t,e){log("up")},i.prototype.moveScreenTo=function(t){var e=V.substruction(t,this._screenPosition);this._screenPosition.copy(t);for(var i=0;i<this.content.children.length;i++){var o=this.content.children[i],n=(new V).copy(e).scale(o.factor*o.scale.x);this.adjustLayerPosition(o,n)}},i.prototype.adjustLayerPosition=function(t,e){t.position.x+=e.x,t.position.y+=e.y},t.ImportedScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize();var t=new Sprite("wurst");t.position.set(500,500),this.addChild(t),this.iks=new IKSystem(500,500);for(var e=0;e<20;e++)this.iks.addArm(30);this.graphics=new PIXI.Graphics,this.addChild(this.graphics),this.addTouchable(this)},i.prototype.onUpdate=function(t){this.graphics.clear(),this.iks.render(this.graphics)},i.prototype.onMouseDown=function(t,e){},i.prototype.onMouseMove=function(t,e){this.iks.drag(t.point.x,t.point.y)},i.prototype.onMouseUp=function(t,e){},i.prototype.onMouseCancel=function(t,e){},t.KinematicsScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screen_initialize=i.prototype.initialize,i.prototype.initialize=function(){this.screen_initialize(),this.setBackgroundColor("#d8a60f"),this.content=new Layer,this.addChild(this.content),this.importer=new Importer(this),this.importer.importObjects(ContentManager.jsons.example.objects,this.content)},i.prototype.onSpin=function(t,e){Spinner.replace(e,null,function(t){var e=this.createSquare(),i=new TweenFloat(e,100,null,1e3);i.timePassed=500,i.run(t)})},i.prototype.onKeyboardStream=function(t,e,i){},i.prototype.onKeyboardDone=function(){},i.prototype.onKeyboardActivated=function(){},i.prototype.onKeyboardDismissed=function(){},i.prototype.onKeyboardInputFocus=function(t){},i.prototype.onKeyboardInputBlur=function(t){},i.prototype.onShow=function(t){},i.prototype.onHide=function(){},i.prototype.onAfterHide=function(){},i.prototype.onBeforeShow=function(){},i.prototype.onNote=function(t,e,i){},i.prototype.onResize=function(){},t.MainScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize(),this.TYPE=i.TYPE,this.sky=new Sprite("sky"),this.sky.stretch(app.width,app.height),this.addChild(this.sky),this.l1=new PIXI.Container,this.l2=new PIXI.Container,this.l3=new PIXI.Container,this.addChild(this.l3),this.addChild(this.l2),this.addChild(this.l1);for(var t=0;t<5;t++){var e=this.makeMountain(800*t,0);this.l1.addChild(e)}for(t=0;t<5;t++){e=this.makeMountain(800*t,0);this.l2.addChild(e)}for(t=0;t<5;t++){e=this.makeMountain(800*t,0);this.l3.addChild(e)}this.l1.position.set(0,app.height-480),this.l2.position.set(0,app.height-600),this.l3.position.set(0,app.height-720),f1=new PIXI.filters.ColorMatrixFilter,this.l1.filters=[f1],sprite=new Sprite("cart"),sprite.filters=[f1],sprite.centered(),sprite.position.set(app.width/2,app.height/2),this.addChild(sprite)},i.prototype.setTint=function(t,e){for(var i=0;i<e.children.length;i++){e.children[i].tint=t}},i.prototype.makeMountain=function(t,e){var i=new Sprite("mountin_"+Math.randomInt(1,2));return i.position.set(t,e),i};i.prototype.onUpdate=function(t){HScreen.prototype.update.call(this)},i.prototype.onShow=function(){HScreen.prototype.onShow.call(this)},i.prototype.onHide=function(){HScreen.prototype.onHide.call(this)},i.prototype.onMouseDown=function(t,e){},i.prototype.onMouseMove=function(t,e){},i.prototype.onMouseUp=function(t,e){},i.prototype.onMouseCancel=function(t,e){},i.prototype.onRightMouseDown=function(t,e){},i.prototype.onRightMouseMove=function(t,e){},i.prototype.onRightMouseUp=function(t,e){},i.prototype.onNote=function(t,e,i){},i.prototype.onResize=function(){},i.prototype.destroy=function(){},t.PerspectiveScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize();for(var t=[],e=0;e<10;e++){var i=Images.water.texture.width/12;t.push(new OV(i+10+i*e,Images.water.texture.height/2))}this.plane=new Plane(Images.water.texture,t,12,2),this.plane.position.set(500,300),this.addChild(this.plane),this.addTouchable(this),this.sensors=[],this.graphics=new PIXI.Graphics,this.addChild(this.graphics),this.createHandles(this.plane),this.selectedHandle=null},i.prototype.renderHandles=function(){this.graphics.clear(),this.graphics.lineStyle(2,0,1),this.graphics.beginFill(16777215,.5);for(var t=0;t<this.sensors.length;t++){var e=this.sensors[t];this.graphics.drawCircle(e.pos.x,e.pos.y,e.r)}this.graphics.endFill()},i.prototype.createHandles=function(t){for(var e=t.getGlobalPosition(),i=0;i<t.points.length;i++){var o=t.points[i],n=(new V).copy(o).add(e),s=new SAT.Circle(n,20);s.index=i,this.sensors.push(s)}};var o=0;i.prototype.onUpdate=function(t){o+=.003*t;for(var e=this.plane.originalPoints,i=Images.water.texture.width/12,n=0;n<e.length;n++)e[n].y=10*Math.sin(.5*n+o)+Images.water.texture.height/2,e[n].x=n*i+5*Math.cos(.3*n+o)+70},i.prototype.onShow=function(){},i.prototype.onHide=function(){},i.prototype.onNote=function(t,e,i){},i.prototype.onResize=function(){},i.prototype.onMouseDown=function(t,e){for(var i=0;i<this.sensors.length;i++){var o=this.sensors[i];if(SAT.pointInCircle(t.point,o)){this.selectedHandle=o;break}}},i.prototype.onMouseMove=function(t,e){this.selectedHandle&&this.moveHandleTo(t.point)},i.prototype.onMouseUp=function(t,e){},i.prototype.onMouseCancel=function(t){},i.prototype.onRightMouseDown=function(t){},i.prototype.moveHandleTo=function(t){if(this.selectedHandle){this.selectedHandle.pos.x=t.x,this.selectedHandle.pos.y=t.y;var e=this.plane.getGlobalPosition(),i=t.x-e.x,o=t.y-e.y;this.plane.points[this.selectedHandle.index].set(i,o)}this.renderHandles()},i.prototype.onDestroy=function(){},t.PlaneScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize();var t=new Button("Animate",Style.DEFAULT_BUTTON);t.onMouseUp=this.onAnimate.bind(this),t.position.set(120,60),this.addChild(t),this.addTouchable(t),this.addTouchable(this),this.paths=[],path=new Path,path.addPoint(new OV(100,100)),path.addPoint(new OV(300,500)),path.addPoint(new OV(500,500)),path.addPoint(new OV(800,400)),path.position.set(200,200),this.addChild(path),this.paths.push(path),this.kibo=new Kibo;var e=this;this.kibo.down("alt",function(){for(var t=0;t<e.paths.length;t++){e.paths[t].isAlt=!0}}),this.kibo.up("alt",function(){for(var t=0;t<e.paths.length;t++){e.paths[t].isAlt=!1}}),this.kibo.down("ctrl",function(){for(var t=0;t<e.paths.length;t++){e.paths[t].isCtrl=!0}}),this.kibo.up("ctrl",function(){for(var t=0;t<e.paths.length;t++){e.paths[t].isCtrl=!1}})},i.prototype.onAnimate=function(){path.animate(1200,function(t){t.render()},this)},i.prototype.onMouseDown=function(t,e){for(var i=0;i<this.paths.length;i++){this.paths[i].onMouseDown(t,e)}},i.prototype.onMouseMove=function(t,e){for(var i=0;i<this.paths.length;i++){this.paths[i].onMouseMove(t,e)}},i.prototype.onMouseUp=function(t,e){for(var i=0;i<this.paths.length;i++){this.paths[i].onMouseUp(t,e)}},i.prototype.onMouseCancel=function(t,e){},i.prototype.createPoints=function(){},t.RopeScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize(),this.content=new Sprite,this.addChild(this.content),this.item1=new Sprite("item1"),this.item1.position.set(400,300),this.item1.priority=2,this.item1.enableSensor(),this.item1.onMouseDown=function(t){t.stopPropagation(),log("item1")},this.content.addChild(this.item1),this.item2=new Sprite("item2"),this.item2.position.set(300,300),this.item2.enableSensor(),this.item2.priority=2,this.item2.onMouseDown=function(t){t.stopPropagation(),log("item2")},this.item1.addChild(this.item2),this.elements=[],this.elements.push(this.item1),this.elements.push(this.item2),this.graphics=new PIXI.Graphics,this.addChild(this.graphics),this.addTouchable(this),this.addTouchable(this.item1),this.addTouchable(this.item2),this.item1.pivot.set(50,50)},i.prototype.onUpdate=function(t){this.graphics.clear();for(var e=0;e<this.elements.length;e++){var i=this.elements[e].getSensor(),o=i.pos,n=i.points;this.graphics.lineWidth=2,this.graphics.lineColor=16777215,this.graphics.beginFill(16724736,0),this.graphics.lineStyle(4,16767232,1),this.graphics.drawCircle(o.x,o.y,2);for(var s=0;s<n.length;s++)this.graphics.moveTo(o.x+n[s].x,o.y+n[s].y),s===n.length-1?this.graphics.lineTo(o.x+n[0].x,o.y+n[0].y):this.graphics.lineTo(o.x+n[s+1].x,o.y+n[s+1].y);this.graphics.endFill()}},i.prototype.onShow=function(){},i.prototype.onHide=function(){},i.prototype.onNote=function(t,e,i){},i.prototype.onResize=function(){},i.prototype.onMouseDown=function(t,e){},i.prototype.onMouseMove=function(t,e){},i.prototype.onMouseUp=function(t,e){log("screen up")},i.prototype.onMouseCancel=function(t){},i.prototype.onRightMouseDown=function(t){log("right down")},i.prototype.onRightMouseMove=function(t){log("right move")},i.prototype.onRightMouseUp=function(t){log("right Up")},i.prototype.onDestroy=function(){},t.SceneGraphScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize(),this.TYPE=i.TYPE,this.character=new SpineAnimation("character"),this.character.play("idle"),this.addChild(this.character),this.character.position.set(app.width/2,app.height-300)},i.prototype.onUpdate=function(t){HScreen.prototype.update.call(this)},i.prototype.onShow=function(){HScreen.prototype.onShow.call(this)},i.prototype.onHide=function(){HScreen.prototype.onHide.call(this)},i.prototype.onMouseDown=function(t,e){},i.prototype.onMouseMove=function(t,e){},i.prototype.onMouseUp=function(t,e){},i.prototype.onMouseCancel=function(t,e){},i.prototype.onRightMouseDown=function(t,e){},i.prototype.onRightMouseMove=function(t,e){},i.prototype.onRightMouseUp=function(t,e){},i.prototype.onNote=function(t,e,i){},i.prototype.onResize=function(){},i.prototype.destroy=function(){},t.SpineScreen=i}(window),function(t,e){function i(){this.initialize()}i.prototype=new HScreen,i.prototype.screenInitialize=i.prototype.initialize,i.prototype.initialize=function(){this.screenInitialize(),this.setBackgroundColor("#ffffff");var t=new Button("Back",Style.DEFAULT_BUTTON);t.onMouseDown=function(){Sounds.click.play(),app.navigator.goBack()},t.position.set(100+t.background.width/2,50),this.addChild(t),this.addTouchable(t),this.object=null,this.prep();for(var e=[{text:"Pop",fnt:this.pop},{text:"Move To",fnt:this.bounce},{text:"Squash",fnt:this.squash},{text:"Blink",fnt:this.blink},{text:"Shake",fnt:this.shake},{text:"Pulsate",fnt:this.pulsate},{text:"Sq/Stretch",fnt:this.ss},{text:"back-forth",fnt:this.backForth},{text:"rotate",fnt:this.rotate},{text:"rotate to",fnt:this.rotateTo},{text:"float",fnt:this.float}],i=0;i<e.length;i++)this.createButton(e[i].text,e[i].fnt,200,200+80*i);var o=this;this.object2=new Sprite("item1"),this.object2.position.set(app.width/2+400,500),this.object2.centered(),this.addChild(this.object2),this.sequence=new Sequencer(this);this.sequence.addThread([new TweenMoveTo(this.object2,new V(app.width/2+500,600),new Bezier(.24,.73,.58,.98),500).name("one"),new TweenScale(this.object2,1.5,new Bezier(.56,.11,.33,1.32),600).name("two"),[new TweenIdle(800).name("pause"),new TweenMoveTo(this.object2,new V(app.width/2+550,550),new Bezier(.59,.13,.51,.89),600)],new TweenMoveTo(this.object2,new V(app.width/2+400,500),null,400).name("tree"),[new TweenScale(this.object2,1,new Bezier(.16,.31,.47,.98),400).name("four")]]);this.sequence.addThread([new TweenAlpha(this.object2,.5,null,800),new TweenIdle(500),new TweenAlpha(this.object2,1,null,400)]);var n=new Button("Sequence",Style.DEFAULT_BUTTON);n.onMouseDown=function(){o.sequence.stop(),o.object2.position.set(app.width/2+400,500),o.object2.alpha=1,o.object2.scale.set(1),o.object2.rotation=0,o.sequence.reset(),o.sequence.run(),Sounds.click.play()},n.position.set(app.width-200,50),this.addChild(n),this.addTouchable(n)},i.prototype.onSequencerStarted=function(t){Actions.stopByTag("_rotate"),new TweenRotateTo(this.object2,Math.degreesToRadians(360),null,t.threads[0].duration,function(t){t.rotation=0}).run("_rotate")},i.prototype.onTweenStarted=function(t,e,i,o){},i.prototype.onTweenEnded=function(t,e,i,o){},i.prototype.float=function(){this.prep(),new TweenFloat(this.object,10,null,1600).run("tween")},i.prototype.rotateTo=function(){this.prep();var t=new Easing(Easing.EASE_IN_OUT_ELASTIC);t.elasticity=9,new TweenRotateTo(this.object,Math.degreesToRadians(360),t,2600).run("tween")},i.prototype.rotate=function(){this.prep(),new TweenRotate(this.object,1,null,1800).repeat(2).run("tween")},i.prototype.backForth=function(){this.prep(),new TweenBackForth(this.object,new V(100,0),null,600).repeat(2).run("tween")},i.prototype.ss=function(){this.prep(),new TweenSquashStretch(this.object,1.2,null,400).repeat(2).run("tween")},i.prototype.pulsate=function(){this.prep(),new TweenPulsate(this.object,1.2,null,300).repeat(2).run("tween")},i.prototype.shake=function(){this.prep(),new TweenShakeX(this.object,5,50,null,300).run("tween")},i.prototype.blink=function(){this.prep(),new TweenBlink(this.object,.5,null,600).repeat(2).run("tween")},i.prototype.squash=function(){this.prep(),new TweenSquashy(this.object,2,null,400).run("tween")},i.prototype.bounce=function(){this.prep();var t=new Easing(Easing.EASE_OUT_BOUNCE);new TweenMoveTo(this.object,new V(app.width/2,800),t,1e3).delay(300).run("tween")},i.prototype.pop=function(){this.prep(),new TweenPop(this.object,1.2,new Bezier(.09,.71,.69,1.21),800).elsticity(6).nonBounce(.3).run("tween")},i.prototype.createButton=function(t,e,i,o){var n=new Button("Back",Style.DEFAULT_BUTTON);n.label.txt=t,n.onMouseDown=function(){Sounds.click.play(),e.call(this)}.bind(this),n.position.set(i,o),this.addChild(n),this.addTouchable(n)},i.prototype.prep=function(){this.object&&this.object.removeFromParent(),Actions.stopByTag("tween"),this.object=new Sprite("item2"),this.object.position.set(app.width/2,500),this.object.centered(),this.addChild(this.object)},i.prototype.onHide=function(){Actions.stopByTag("tween")},t.TweenScreen=i}(window),ThresholdFilter.prototype=Object.create(PIXI.Filter.prototype),ThresholdFilter.prototype.constructor=ThresholdFilter,Object.defineProperties(ThresholdFilter.prototype,{threshold:{get:function(){return this.uniforms.threshold},set:function(t){this.uniforms.threshold=t}}}),Object.defineProperties(ThresholdFilter.prototype,{tolerance:{get:function(){return this.uniforms.tolerance},set:function(t){this.uniforms.tolerance=t}}});