!function(a){function b(){this.initialize()}b.prototype.initialize=function(){this.width=0,this.height=0,this.canvasWidth=0,this.canvasHeight=0,this.windowWidth=0,this.windowHeight=0,this.device=new Device(this),null!==Config.window_mode_mobile&&(this.device.isMobile.phone||this.device.isMobile.tablet)&&(Config.window_mode=Config.window_mode_mobile,this.device.calculateSizes());var b=!1;this.device.isIE&&(b=!0);var c={clearBeforeRender:Config.should_clear_stage,preserveDrawingBuffer:!0,resolution:1,width:this.width,height:this.height,backgroundColor:Config.background_color?Config.background_color:null,transparent:!Config.background_color,forceCanvas:b};this.pixi=new PIXI.Application(c),this.layoutCanvas(),this.pixi.ticker.add(this.tick,this),this.stage=this.pixi.stage,this.screen=this.pixi.screen,this.loader=this.pixi.loader,this.input=new Input(this,this.pixi.renderer.view),this.navigator=new HNavigator(this),this.initialLoad(function(){this.loadAssets(),ContentManager.downloadResources(function(){if(app.navigator.currentScreen.loadingBar.setPercent(1,!0),!a[Config.initialScreen])throw Config.initialScreen+" - is not Defined";var b=applyToConstructor(a[Config.initialScreen],Config.initialScreenArgs);app.navigator.add(b),Config.rotation_mode&&(this.rotate_layer=new RotateLayer),this.checkRotation()},this)}),Config.debug&&(this.debugLayer=new PIXI.Graphics,this.debugLayer.zIndex=100,this.stage.addChild(this.debugLayer)),Visibility.change(function(a,b){app.handleVisibility("visible"===b)})},b.prototype.initialLoad=function(a){ContentManager.addImage("_loading_bar_bg","initial/_loading_bar_bg.png"),ContentManager.addImage("_loading_bar_fg","initial/_loading_bar_fg.png"),ContentManager.addImage("white","initial/white.png"),ContentManager.addImage("black","initial/black.png"),ContentManager.addImage("rotate_device_to_landscape","initial/rotate_device_to_landscape.png"),ContentManager.addImage("rotate_device_to_portrait","initial/rotate_device_to_portrait.png"),ContentManager.downloadResources(function(){var b=new LoadingScreen;app.navigator.add(b),a&&a.call(this),a=null},this)},b.prototype.layoutCanvas=function(){document.body.appendChild(this.pixi.view),Config.window_mode!==Config.MODE_NONE&&(this.pixi.view.style.width=this.canvasWidth+"px",this.pixi.view.style.height=this.canvasHeight+"px"),Config.window_mode===Config.MODE_CENTERED?this.adjustCanvasPositionCentered(this.pixi.view):Config.window_mode===Config.MODE_PADDING&&this.adjustCanvasPositionPadding(this.pixi.view)},b.prototype.debugStage=function(a){a=a||this.stage.children;for(var b=0;b<a.length;b++){var c=a[b];this.drawItem(c,this.debugLayer),c.children&&this.debugStage(c.children)}},b.prototype.drawItem=function(a,b){var c=a.getSensor();if(c)if(c instanceof SAT.Circle){var d=c.pos;b.beginFill(0,.3),b.lineStyle(2,0),b.drawCircle(d.x,d.y,c.r),b.endFill()}else{var d=c.pos,e=c.points;b.beginFill(0),b.lineStyle(1,0),b.drawCircle(d.x,d.y,2);for(var f=0;f<e.length;f++)b.moveTo(d.x+e[f].x,d.y+e[f].y),f===e.length-1?b.lineTo(d.x+e[0].x,d.y+e[0].y):b.lineTo(d.x+e[f+1].x,d.y+e[f+1].y);b.endFill()}},b.prototype.tick=function(a){var b=this.pixi.ticker.elapsedMS;b=b>50?50:b,Actions.update(b),this.navigator.update(b),Config.debug&&(this.debugLayer.clear(),this.debugStage())},b.prototype.adjustCanvasPositionCentered=function(a){var b=this.windowWidth-this.canvasWidth,c=this.windowHeight-this.canvasHeight;a.style.marginLeft=Math.ceil(b/2)+"px",a.style.marginTop=Math.ceil(c/2)+"px"},b.prototype.adjustCanvasPositionPadding=function(a){var b=Config.canvas_padding.split(" ");a.style.marginLeft=Math.ceil(b[3])+"px",a.style.marginTop=Math.ceil(b[0])+"px"},b.prototype.handleVisibility=function(a){app.navigator.currentScreen&&app.navigator.currentScreen.onVisibilityChange(a),a?Config.is_sound_on&&Howler.mute(!1):Howler.mute(!0)},b.prototype.resize=function(){this.device.calculateSizes(),this.pixi.view.style.width=Math.ceil(this.canvasWidth)+"px",this.pixi.view.style.height=Math.ceil(this.canvasHeight)+"px",this.pixi.renderer.resize(this.width,this.height),Config.window_mode===Config.MODE_CENTERED?this.adjustCanvasPositionCentered(this.pixi.view):Config.window_mode===Config.MODE_PADDING&&this.adjustCanvasPositionPadding(this.pixi.view),this.input.recalucateOffset();for(var a=0;a<this.navigator.screens.length;a++){this.navigator.screens[a]._onResize(this.width,this.height)}this.rotate_layer&&(this.checkRotation(),this.rotate_layer.onResize())},b.prototype.checkRotation=function(){Config.rotation_mode===Config.ROTATION_MODE_HORIZONTAL?app.windowWidth<app.windowHeight?this.showRotateDevice():this.hideRotateDevice():Config.rotation_mode===Config.ROTATION_MODE_VERTICAL&&(app.windowWidth>app.windowHeight?this.showRotateDevice():this.hideRotateDevice())},b.prototype.showRotateDevice=function(){this.isRotationLayerShown||(this.isRotationLayerShown=!0,this.stage.addChild(this.rotate_layer),this.navigator.currentScreen.isPaused=!0,this.input.isBlocked=!0,Actions.pause(),Config.is_sound_on&&Howler.mute(!0))},b.prototype.hideRotateDevice=function(){this.isRotationLayerShown&&(this.isRotationLayerShown=!1,this.rotate_layer.removeFromParent(),this.navigator.currentScreen.isPaused=!1,this.input.isBlocked=!1,Actions.resume(),Config.is_sound_on&&Howler.mute(!1))},a.App=b}(window),function(a,b){var c=c||function(){throw"can't initialize this class"};c.DEFAULT_INPUT={fill:"#ffffff",fontFamily:"Arial Black",fontSize:30,background:"rounded",dropShadowDistance:0},c.MULTY_LINE_LABEL={breakWords:!0,wordWrap:!0,wordWrapWidth:800,fill:"#999999",fontFamily:"Arial Black",fontSize:30,dropShadow:!0,dropShadowColor:"#000000",dropShadowDistance:1},c.DEFAULT_LABEL={fill:"#999999",fontFamily:"Arial Black",fontSize:30,dropShadowDistance:0},c.DEFAULT_BUTTON={fill:"#cccccc",imageNormal:"button",imageSelected:"button",fontFamily:"Arial Black",fontSize:30},c.ROUNDED_BUTTON={fill:"#cccccc",imageNormal:"button",imageSelected:"button",fontFamily:"Arial Black",fontSize:30},a.Style=c}(window),window.addEventListener("load",function(){Config.lang="en",PIXI.utils.skipHello(),app=new App},!1),function(a,b){function c(){this.initialize()}c.prototype=new HScreen,c.prototype.screen_initialize=c.prototype.initialize,c.prototype.initialize=function(){this.screen_initialize(),this.background=new Sprite("white"),this.background.stretch(app.width,app.height),this.background.visible=!1,this.addChild(this.background),this.logo=new Sprite(null),this.logo.centered(),this.addChild(this.logo),this.isAnimating=!0,this.loadingBar=new LoadingBar(null,null,0),this.addChild(this.loadingBar),this.lastLoadedCount=0,this.setPositions()},c.prototype.setPositions=function(){var a=app.width/2,b=app.height;this.logo.position.set(a,.45*b),this.loadingBar.position.set(a-300,.75*b),this.background.position.set(-10,-10),this.background.width=1.2*app.width,this.background.height=1.2*app.height},c.prototype.update=function(a){var b=ContentManager.countToLoad,c=ContentManager.countLoaded,d=c/b;d=d<=0?.01:d,d=0===b?1:d,c&&this.lastLoadedCount!=c&&(this.lastLoadedCount=c,this.loadingBar.setPercent(d))},c.prototype.onResize=function(){this.setPositions()},a.LoadingScreen=c}(window),Notes.UNLOCK_COLLECTION_TROPHY="unlock collection trophy",Notes.RADIO_BUTTON_SELECTED="radio button selected",Notes.CHECK_BOX_SELECTED="check box selected",Notes.CHECK_BOX_UNSELECTED="check box unselected",Notes.DRAGGABLE_ITEM_SELECTED="draggable item selected",Notes.DRAGGABLE_ITEM_MOVED="draggable item moved",Notes.DRAGGABLE_ITEM_DROPPED="draggable item dropped",Notes.ACTIVITY="activity",Notes.QUESTION_LOGGED="question logged",Notes.CHAPTER_COMPLETED="chapter completed",Notes.WEIGHT_ITEM_DROPPED="weight item dropped",Notes.WEIGHT_ITEM_SELECTED="WEIGHT_ITEM_SELECTED",Notes.SORTABLE_ITEM_SELECTED="sortable item selected",Notes.SORTABLE_ITEM_MOVED="sortable item moved",Notes.SORTABLE_ITEM_DROPPED="sortable item dropped",Notes.CHANGE_CURSOR="change cursor",Notes.CLOCK_SELECTED="clock selected",Notes.ENTER_KEY_PRESSED="enter key pressed",function(a,b){function c(){this.initialize()}c.prototype=new Sprite,c.prototype.spriteInitialize=c.prototype.initialize,c.prototype.initialize=function(){this.spriteInitialize(),this.drawingLayer=new PIXI.Graphics,this.addChild(this.drawingLayer),this.drawingLayer.clear(),this.drawingLayer.beginFill(0),this.drawingLayer.drawRect(-50,-50,app.width+100,app.height+100);var a="rotate_device_to_portrait";Config.rotation_mode===Config.ROTATION_MODE_HORIZONTAL&&(a="rotate_device_to_landscape"),this.rotate=new Sprite(a),this.rotate.anchor.set(.5,.5),this.addChild(this.rotate),this.rotateLabel=new Label,this.rotateLabel.anchor.set(.5,.5),this.rotateLabel.txt=lang("Please rotate your device"),this.rotateLabel.style.fill="#ffffff",this.rotateLabel.style.fontSize=80,this.addChild(this.rotateLabel),this.setPositions(),this.zIndex=99999999999},c.prototype.setPositions=function(){this.rotate.position.set(app.width/2,app.height/2-100),this.rotateLabel.position.set(app.width/2,app.height/2+100)},c.prototype.onResize=function(){this.setPositions(),this.drawingLayer.clear(),this.drawingLayer.beginFill(0),this.drawingLayer.drawRect(-50,-50,app.width+100,app.height+100)},a.RotateLayer=c}(window),App.prototype.loadAssets=function(){ContentManager.addFile("cubes","assets/data/cubes.json"),ContentManager.addFile("sample","assets/data/sample.json"),ContentManager.addFile("stage","assets/data/stage.json"),ContentManager.addImage("button","button.png"),ContentManager.addImage("button_disabled","button_disabled.png"),ContentManager.addImage("cart","cart.png"),ContentManager.addImage("cubes","cubes.png"),ContentManager.addImage("favicon","favicon.png"),ContentManager.addImage("item1","item1.png"),ContentManager.addImage("item2","item2.png"),ContentManager.addImage("item3","item3.png"),ContentManager.addImage("item4","item4.png"),ContentManager.addImage("keyboard_backspace","keyboard/keyboard_backspace.png"),ContentManager.addImage("keyboard_capitalize","keyboard/keyboard_capitalize.png"),ContentManager.addImage("keyboard_close","keyboard/keyboard_close.png"),ContentManager.addImage("keyboard_next","keyboard/keyboard_next.png"),ContentManager.addImage("keyboard_preview_key","keyboard/keyboard_preview_key.png"),ContentManager.addImage("keyboard_space","keyboard/keyboard_space.png"),ContentManager.addImage("keyboard_symbols","keyboard/keyboard_symbols.png"),ContentManager.addImage("BG","library/desert/BG.png"),ContentManager.addImage("Bush (1)","library/desert/Objects/Bush (1).png"),ContentManager.addImage("Bush (2)","library/desert/Objects/Bush (2).png"),ContentManager.addImage("Cactus (1)","library/desert/Objects/Cactus (1).png"),ContentManager.addImage("Cactus (2)","library/desert/Objects/Cactus (2).png"),ContentManager.addImage("Cactus (3)","library/desert/Objects/Cactus (3).png"),ContentManager.addImage("Crate","library/desert/Objects/Crate.png"),ContentManager.addImage("Grass (1)","library/desert/Objects/Grass (1).png"),ContentManager.addImage("Grass (2)","library/desert/Objects/Grass (2).png"),ContentManager.addImage("Sign","library/desert/Objects/Sign.png"),ContentManager.addImage("SignArrow","library/desert/Objects/SignArrow.png"),ContentManager.addImage("Skeleton","library/desert/Objects/Skeleton.png"),ContentManager.addImage("Stone","library/desert/Objects/Stone.png"),ContentManager.addImage("StoneBlock","library/desert/Objects/StoneBlock.png"),ContentManager.addImage("Tree","library/desert/Objects/Tree.png"),ContentManager.addImage("1","library/desert/Tile/1.png"),ContentManager.addImage("10","library/desert/Tile/10.png"),ContentManager.addImage("11","library/desert/Tile/11.png"),ContentManager.addImage("12","library/desert/Tile/12.png"),ContentManager.addImage("13","library/desert/Tile/13.png"),ContentManager.addImage("14","library/desert/Tile/14.png"),ContentManager.addImage("15","library/desert/Tile/15.png"),ContentManager.addImage("16","library/desert/Tile/16.png"),ContentManager.addImage("2","library/desert/Tile/2.png"),ContentManager.addImage("3","library/desert/Tile/3.png"),ContentManager.addImage("4","library/desert/Tile/4.png"),ContentManager.addImage("5","library/desert/Tile/5.png"),ContentManager.addImage("6","library/desert/Tile/6.png"),ContentManager.addImage("7","library/desert/Tile/7.png"),ContentManager.addImage("8","library/desert/Tile/8.png"),ContentManager.addImage("9","library/desert/Tile/9.png"),ContentManager.addImage("gui_buttons_13","library/gui/buttons/gui_buttons_13.png"),ContentManager.addImage("gui_buttons_14","library/gui/buttons/gui_buttons_14.png"),ContentManager.addImage("gui_buttons_15","library/gui/buttons/gui_buttons_15.png"),ContentManager.addImage("gui_buttons_16","library/gui/buttons/gui_buttons_16.png"),ContentManager.addImage("gui_buttons_33","library/gui/buttons/gui_buttons_33.png"),ContentManager.addImage("gui_buttons_34","library/gui/buttons/gui_buttons_34.png"),ContentManager.addImage("gui_buttons_35","library/gui/buttons/gui_buttons_35.png"),ContentManager.addImage("gui_buttons_36","library/gui/buttons/gui_buttons_36.png"),ContentManager.addImage("gui_windows_04","library/gui/elements/gui_windows_04.png"),ContentManager.addImage("gui_windows_05","library/gui/elements/gui_windows_05.png"),ContentManager.addImage("gui_windows_07","library/gui/elements/gui_windows_07.png"),ContentManager.addImage("gui_windows_09","library/gui/elements/gui_windows_09.png"),ContentManager.addImage("gui_windows_10","library/gui/elements/gui_windows_10.png"),ContentManager.addImage("gui_windows_13","library/gui/elements/gui_windows_13.png"),ContentManager.addImage("gui_windows_14","library/gui/elements/gui_windows_14.png"),ContentManager.addImage("gui_windows_15","library/gui/elements/gui_windows_15.png"),ContentManager.addImage("gui_windows_16","library/gui/elements/gui_windows_16.png"),ContentManager.addImage("gui_windows_19","library/gui/elements/gui_windows_19.png"),ContentManager.addImage("gui_windows_20","library/gui/elements/gui_windows_20.png"),ContentManager.addImage("gui_windows_22","library/gui/elements/gui_windows_22.png"),ContentManager.addImage("gui_windows_25","library/gui/elements/gui_windows_25.png"),ContentManager.addImage("gui_windows_26","library/gui/elements/gui_windows_26.png"),ContentManager.addImage("gui_windows_27","library/gui/elements/gui_windows_27.png"),ContentManager.addImage("gui_windows_28","library/gui/elements/gui_windows_28.png"),ContentManager.addImage("gui_windows_29","library/gui/elements/gui_windows_29.png"),ContentManager.addImage("gui_windows_30","library/gui/elements/gui_windows_30.png"),ContentManager.addImage("gui_windows_31","library/gui/elements/gui_windows_31.png"),ContentManager.addImage("gui_windows_33","library/gui/elements/gui_windows_33.png"),ContentManager.addImage("gui_windows_34","library/gui/elements/gui_windows_34.png"),ContentManager.addImage("gui_windows_35","library/gui/elements/gui_windows_35.png"),ContentManager.addImage("gui_windows_36","library/gui/elements/gui_windows_36.png"),ContentManager.addImage("gui_windows_38","library/gui/elements/gui_windows_38.png"),ContentManager.addImage("gui_windows_39","library/gui/elements/gui_windows_39.png"),ContentManager.addImage("gui_windows_42","library/gui/elements/gui_windows_42.png"),ContentManager.addImage("gui_windows_43","library/gui/elements/gui_windows_43.png"),ContentManager.addImage("gui_windows_46","library/gui/elements/gui_windows_46.png"),ContentManager.addImage("gui_windows_47","library/gui/elements/gui_windows_47.png"),ContentManager.addImage("gui_windows_54","library/gui/elements/gui_windows_54.png"),ContentManager.addImage("gui_windows_55","library/gui/elements/gui_windows_55.png"),ContentManager.addImage("gui_windows_56","library/gui/elements/gui_windows_56.png"),ContentManager.addImage("gui_windows_57","library/gui/elements/gui_windows_57.png"),ContentManager.addImage("gui_windows_58","library/gui/elements/gui_windows_58.png"),ContentManager.addImage("gui_windows_59","library/gui/elements/gui_windows_59.png"),ContentManager.addImage("gui_windows_60","library/gui/elements/gui_windows_60.png"),ContentManager.addImage("gui_windows_61","library/gui/elements/gui_windows_61.png"),ContentManager.addImage("gui_windows_62","library/gui/elements/gui_windows_62.png"),ContentManager.addImage("gui_windows_63","library/gui/elements/gui_windows_63.png"),ContentManager.addImage("gui_windows_64","library/gui/elements/gui_windows_64.png"),ContentManager.addImage("gui_windows_65","library/gui/elements/gui_windows_65.png"),ContentManager.addImage("gui_windows_66","library/gui/elements/gui_windows_66.png"),ContentManager.addImage("gui_windows_67","library/gui/elements/gui_windows_67.png"),ContentManager.addImage("gui_windows_68","library/gui/elements/gui_windows_68.png"),ContentManager.addImage("gui_windows_69","library/gui/elements/gui_windows_69.png"),ContentManager.addImage("gui_windows_70","library/gui/elements/gui_windows_70.png"),ContentManager.addImage("gui_windows_71","library/gui/elements/gui_windows_71.png"),ContentManager.addImage("gui_windows_72","library/gui/elements/gui_windows_72.png"),ContentManager.addImage("gui_windows_73","library/gui/elements/gui_windows_73.png"),ContentManager.addImage("gui_windows_74","library/gui/elements/gui_windows_74.png"),ContentManager.addImage("gui_windows_75","library/gui/elements/gui_windows_75.png"),ContentManager.addImage("mountin_1","mountin_1.png"),ContentManager.addImage("mountin_2","mountin_2.png"),ContentManager.addImage("photo","photo.jpg"),ContentManager.addImage("rounded","rounded.png"),ContentManager.addImage("sky","sky.png"),ContentManager.addImage("water","water.png"),ContentManager.addFile("en","assets/localization/en.txt"),ContentManager.addSound("click",["assets/sounds/effects/click.webm","assets/sounds/effects/click.mp3"]),ContentManager.addSpine("character")},function(a,b){function c(){this.initialize()}c.prototype=new HScreen,c.prototype.screenInitialize=c.prototype.initialize,c.prototype.initialize=function(){this.screenInitialize(),this.setBackgroundColor("#0e8477"),this.content=new InputContent(this),this.addTouchable(this.content),this.addChild(this.content);var a=new Button("back",Style.DEFAULT_BUTTON);a.setSensorSize(220,100),a.onMouseDown=function(){Sounds.click.play(),app.navigator.goBack()},a.position.set(100+a.background.width/2,50),this.content.addChild(a),this.addTouchable(a);var b=new Label(Style.DEFAULT_LABEL);b.position.set(100,100),b.txt="This is the Text.",this.content.addChild(b);var c=new Label(Style.MULTY_LINE_LABEL);c.position.set(100,200),c.txt="Most people look forward to retiring, and Burlington native Dennis Woody, 66, is no exception. The sales manager began his career in 1971 as a truck drive for the company, which was once called R.F. Kilpatrick and Sons. ",this.content.addChild(c);var d=new Button("button",Style.DEFAULT_BUTTON);d.onMouseDown=function(){log("btn clicked")},d.position.set(100+d.background.width/2,450),this.content.addChild(d),this.addTouchable(d);var e=new Button("STRETCHED BUTTON",Style.ROUNDED_BUTTON,Button.TYPE_NINE_SLICE);e.background.setSize(500,100),e.setSensorSize(500,100),e.onMouseDown=function(){log("round btn clicked")},e.position.set(100+e._width/2,550),this.content.addChild(e),this.addTouchable(e);var f=new Label(Style.DEFAULT_LABEL);f.position.set(1e3,100),f.txt="Table View",this.content.addChild(f);var g=new NineSlice("rounded","15");g.setSize(320,520),g.position.set(1150,450),this.content.addChild(g);for(var h=[],i=0;i<20;i++)h.push({text:"Data Text "+i});this.tableview=new TableView,this.tableview.setCellType(TableCell),this.tableview.setSize(300,500),this.tableview.setData(h),this.tableview.initCells(),this.tableview.position.set(1e3,200),this.content.addChild(this.tableview),this.addTouchable(this.tableview),this.input1=new InputField(Style.DEFAULT_INPUT,InputField.TYPE_ALL),this.input1.setSize(400,80),this.input1.position.set(1600,200),this.input1.hasNext=!0,this.input1.setPlaceholder("Placeholder"),this.content.addChild(this.input1),this.content.addInput(this.input1),this.input2=new InputField(Style.DEFAULT_INPUT,InputField.TYPE_NUMERIC_SYMBOLS),this.input2.setSize(400,120),this.input2.setFontSize(50),this.input2.position.set(1600,320),this.input2.hasNext=!0,this.content.addChild(this.input2),this.content.addInput(this.input2),this.input3=new InputField(Style.DEFAULT_INPUT,InputField.TYPE_ALPHABETIC),this.input3.setSize(400,80),this.input3.setFontSize(50),this.input3.position.set(1600,440),this.content.addChild(this.input3),this.content.addInput(this.input3),this.scrollView=new ScrollView,this.scrollView.setSize(500,300),this.scrollView.setContentSize(700,533),this.scrollView.position.set(100,700),this.content.addChild(this.scrollView),this.addTouchable(this.scrollView);var j=new Sprite("photo");this.scrollView.content.addChild(j),this.loadingBar=new LoadingBar("_loading_bar_fg","_loading_bar_bg"),this.loadingBar.position.set(800,1e3),this.loadingBar.setPercent(.2,!0),this.addChild(this.loadingBar);for(var k=[],i=0;i<20;i++){var l=new Sprite("white"),m=Math.randomInt(10,100),n=Math.randomInt(10,100);l.stretch(m,n),l.setSensorSize(m,n),k.push(l),this.addChild(l)}Layout.hbox(k,400,1450,600,5,"compact")},c.prototype.update=function(a){},c.prototype.onShow=function(){},c.prototype.onHide=function(){},c.prototype.onResize=function(){},a.GuiScreen=c}(window),function(a,b){function c(){this.initialize()}c.prototype=new HScreen,c.prototype.screenInitialize=c.prototype.initialize,c.prototype.initialize=function(){this.screenInitialize(),this.TYPE=c.TYPE,this.importer=new Importer(this),this.content=new Layer,this.addChild(this.content),this._screenPosition=new V,this.importer.importObjects(ContentManager.jsons.stage.objects,this.content),this.moveScreenTo(ContentManager.jsons.stage.screenPosition)},c.prototype.moveScreenTo=function(a){var b=V.substruction(a,this._screenPosition);this._screenPosition.copy(a);for(var c=0;c<this.content.children.length;c++){var d=this.content.children[c],e=(new V).copy(b).scale(d.factor*d.scale.x);this.adjustLayerPosition(d,e)}},c.prototype.adjustLayerPosition=function(a,b){a.position.x+=b.x,a.position.y+=b.y},c.prototype.update=function(a){HScreen.prototype.update.call(this)},c.prototype.onShow=function(){HScreen.prototype.onShow.call(this)},c.prototype.onHide=function(){HScreen.prototype.onHide.call(this)},c.prototype.onMouseDown=function(a,b){},c.prototype.onMouseMove=function(a,b){},c.prototype.onMouseUp=function(a,b){},c.prototype.onMouseCancel=function(a,b){},c.prototype.onRightMouseDown=function(a,b){},c.prototype.onRightMouseMove=function(a,b){},c.prototype.onRightMouseUp=function(a,b){},c.prototype.onNote=function(a,b,c){},c.prototype.onResize=function(){},c.prototype.destroy=function(){},a.ImportedScreen=c}(window),function(a,b){function c(){this.initialize()}c.prototype=new HScreen,c.prototype.screen_initialize=c.prototype.initialize,c.prototype.initialize=function(){this.screen_initialize(),this.setBackgroundColor("#d8a60f");var a=new Button("GUI",Style.DEFAULT_BUTTON);a.onMouseUp=function(){var a=new GuiScreen;app.navigator.add(a,200),Sounds.click.play()},a.position.set(app.width/2,300),this.addChild(a),this.addTouchable(a);var b=new Button("Tweens",Style.DEFAULT_BUTTON);b.onMouseUp=function(){var a=new TweenScreen;app.navigator.add(a,200),Sounds.click.play()},b.position.set(app.width/2,400),this.addChild(b),this.addTouchable(b)},c.prototype.onShow=function(a){},c.prototype.onHide=function(){},c.prototype.onAfterHide=function(){},c.prototype.onBeforeShow=function(){},c.prototype.onNote=function(a,b,c){},c.prototype.onResize=function(){},a.MainScreen=c}(window),function(a,b){function c(){this.initialize()}c.prototype=new HScreen,c.prototype.screenInitialize=c.prototype.initialize,c.prototype.initialize=function(){this.screenInitialize(),this.TYPE=c.TYPE,this.sky=new Sprite("sky"),this.sky.stretch(app.width,app.height),this.addChild(this.sky),this.l1=new PIXI.Container,this.l2=new PIXI.Container,this.l3=new PIXI.Container,this.addChild(this.l3),this.addChild(this.l2),this.addChild(this.l1);for(var a=0;a<5;a++){var b=this.makeMountain(800*a,0);this.l1.addChild(b)}for(var a=0;a<5;a++){var b=this.makeMountain(800*a,0);this.l2.addChild(b)}for(var a=0;a<5;a++){var b=this.makeMountain(800*a,0);this.l3.addChild(b)}this.l1.position.set(0,app.height-480),this.l2.position.set(0,app.height-600),this.l3.position.set(0,app.height-720),f1=new PIXI.filters.ColorMatrixFilter,this.l1.filters=[f1],sprite=new Sprite("cart"),sprite.filters=[f1],sprite.centered(),sprite.position.set(app.width/2,app.height/2),this.addChild(sprite)},c.prototype.setTint=function(a,b){for(var c=0;c<b.children.length;c++){b.children[c].tint=a}},c.prototype.makeMountain=function(a,b){var c=new Sprite("mountin_"+Math.randomInt(1,2));return c.position.set(a,b),c};c.prototype.update=function(a){HScreen.prototype.update.call(this)},c.prototype.onShow=function(){HScreen.prototype.onShow.call(this)},c.prototype.onHide=function(){HScreen.prototype.onHide.call(this)},c.prototype.onMouseDown=function(a,b){},c.prototype.onMouseMove=function(a,b){},c.prototype.onMouseUp=function(a,b){},c.prototype.onMouseCancel=function(a,b){},c.prototype.onRightMouseDown=function(a,b){},c.prototype.onRightMouseMove=function(a,b){},c.prototype.onRightMouseUp=function(a,b){},c.prototype.onNote=function(a,b,c){},c.prototype.onResize=function(){},c.prototype.destroy=function(){},a.PerspectiveScreen=c}(window),function(a,b){function c(){this.initialize()}c.prototype=new HScreen,c.prototype.screenInitialize=c.prototype.initialize,c.prototype.initialize=function(){this.screenInitialize();for(var a=[],b=0;b<10;b++){var c=Images.water.texture.width/12;a.push(new OV(c+10+c*b,Images.water.texture.height/2))}this.plane=new Plane(Images.water.texture,a,12,2),this.plane.position.set(500,300),this.addChild(this.plane),this.addTouchable(this),this.sensors=[],this.graphics=new PIXI.Graphics,this.addChild(this.graphics),this.createHandles(this.plane),this.selectedHandle=null},c.prototype.renderHandles=function(){this.graphics.clear(),this.graphics.lineStyle(2,0,1),this.graphics.beginFill(16777215,.5);for(var a=0;a<this.sensors.length;a++){var b=this.sensors[a];this.graphics.drawCircle(b.pos.x,b.pos.y,b.r)}this.graphics.endFill()},c.prototype.createHandles=function(a){for(var b=a.getGlobalPosition(),c=0;c<a.points.length;c++){var d=a.points[c],e=(new V).copy(d).add(b),f=new SAT.Circle(e,20);f.index=c,this.sensors.push(f)}};var d=0;c.prototype.update=function(a){d+=.003*a;for(var b=this.plane.originalPoints,c=Images.water.texture.width/12,e=5,f=10,g=0;g<b.length;g++)b[g].y=Math.sin(.5*g+d)*f+Images.water.texture.height/2,b[g].x=g*c+Math.cos(.3*g+d)*e+70},c.prototype.onShow=function(){},c.prototype.onHide=function(){},c.prototype.onNote=function(a,b,c){},c.prototype.onResize=function(){},c.prototype.onMouseDown=function(a,b){for(var c=0;c<this.sensors.length;c++){var d=this.sensors[c];if(SAT.pointInCircle(a.point,d)){this.selectedHandle=d;break}}},c.prototype.onMouseMove=function(a,b){this.selectedHandle&&this.moveHandleTo(a.point)},c.prototype.onMouseUp=function(a,b){},c.prototype.onMouseCancel=function(a){},c.prototype.onRightMouseDown=function(a){},c.prototype.moveHandleTo=function(a){if(this.selectedHandle){this.selectedHandle.pos.x=a.x,this.selectedHandle.pos.y=a.y;var b=this.plane.getGlobalPosition(),c=a.x-b.x,d=a.y-b.y;this.plane.points[this.selectedHandle.index].set(c,d)}this.renderHandles()},c.prototype.onDestroy=function(){},a.PlaneScreen=c}(window),function(a,b){function c(){this.initialize()}c.prototype=new HScreen,c.prototype.screenInitialize=c.prototype.initialize,c.prototype.initialize=function(){this.screenInitialize();var a=new Button("Animate",Style.DEFAULT_BUTTON);a.onMouseUp=this.onAnimate.bind(this),a.position.set(120,60),this.addChild(a),this.addTouchable(a),this.addTouchable(this),this.paths=[],path=new Path,path.addPoint(new OV(100,100)),path.addPoint(new OV(300,500)),path.addPoint(new OV(500,500)),path.addPoint(new OV(800,400)),path.position.set(200,200),this.addChild(path),this.paths.push(path),this.kibo=new Kibo;var b=this;this.kibo.down("alt",function(){for(var a=0;a<b.paths.length;a++){b.paths[a].isAlt=!0}}),this.kibo.up("alt",function(){for(var a=0;a<b.paths.length;a++){b.paths[a].isAlt=!1}}),this.kibo.down("ctrl",function(){for(var a=0;a<b.paths.length;a++){b.paths[a].isCtrl=!0}}),this.kibo.up("ctrl",function(){for(var a=0;a<b.paths.length;a++){b.paths[a].isCtrl=!1}})},c.prototype.onAnimate=function(){path.animate(1200,function(a){a.render()},this)},c.prototype.onMouseDown=function(a,b){for(var c=0;c<this.paths.length;c++){this.paths[c].onMouseDown(a,b)}},c.prototype.onMouseMove=function(a,b){for(var c=0;c<this.paths.length;c++){this.paths[c].onMouseMove(a,b)}},c.prototype.onMouseUp=function(a,b){for(var c=0;c<this.paths.length;c++){this.paths[c].onMouseUp(a,b)}},c.prototype.onMouseCancel=function(a,b){},c.prototype.createPoints=function(){},a.RopeScreen=c}(window),function(a,b){function c(){this.initialize()}c.prototype=new HScreen,c.prototype.screenInitialize=c.prototype.initialize,c.prototype.initialize=function(){this.screenInitialize(),this.content=new Sprite,this.addChild(this.content),this.item1=new Sprite("item1"),this.item1.position.set(300,300),this.item1.priority=2,this.item1.enableSensor(),this.item1.onMouseDown=function(a){a.stopPropagation(),log("item1")},this.content.addChild(this.item1),this.item2=new Sprite("item2"),this.item2.position.set(300,300),this.item2.enableSensor(),this.item2.priority=2,this.item2.onMouseDown=function(a){a.stopPropagation(),log("item2")},this.item1.addChild(this.item2),this.elements=[],this.elements.push(this.item1),this.elements.push(this.item2),this.graphics=new PIXI.Graphics,this.addChild(this.graphics),this.addTouchable(this),this.addTouchable(this.item1),this.addTouchable(this.item2),new TweenScale(this.item1,.8,null,3e3).delay().run(),this.item1.rotation=Math.degreesToRadians(10),this.item1.anchor.set(.5,.5),this.item2.getSensor(),timeout(function(){this.item2.anchor.set(1,0)},600,this),timeout(function(){this.item2.scale.set(1.6)},1e3,this),timeout(function(){this.item2.anchor.set(.5,.5)},1600,this),timeout(function(){this.content.scale.set(1.6)},2e3,this),timeout(function(){this.item2.scale.set(1),this.content.scale.set(1),this.item2.anchor.set(.5,.5)},2500,this)},c.prototype.update=function(a){this.item1.rotation+=1e-4*a,this.graphics.clear();for(var b=0;b<this.elements.length;b++){var c=this.elements[b],d=c.getSensor(),e=d.pos,f=d.points;this.graphics.lineWidth=2,this.graphics.lineColor=16777215,this.graphics.beginFill(16724736,0),this.graphics.lineStyle(4,16767232,1),this.graphics.drawCircle(e.x,e.y,2);for(var g=0;g<f.length;g++)this.graphics.moveTo(e.x+f[g].x,e.y+f[g].y),g===f.length-1?this.graphics.lineTo(e.x+f[0].x,e.y+f[0].y):this.graphics.lineTo(e.x+f[g+1].x,e.y+f[g+1].y);this.graphics.endFill()}},c.prototype.onShow=function(){},c.prototype.onHide=function(){},c.prototype.onNote=function(a,b,c){},c.prototype.onResize=function(){},c.prototype.onMouseDown=function(a,b){},c.prototype.onMouseMove=function(a,b){},c.prototype.onMouseUp=function(a,b){log("screen up")},c.prototype.onMouseCancel=function(a){},c.prototype.onRightMouseDown=function(a){log("right down")},c.prototype.onRightMouseMove=function(a){log("right move")},c.prototype.onRightMouseUp=function(a){log("right Up")},c.prototype.onDestroy=function(){},a.SceneGraphScreen=c}(window),function(a,b){function c(){this.initialize()}c.prototype=new HScreen,c.prototype.screenInitialize=c.prototype.initialize,c.prototype.initialize=function(){this.screenInitialize(),this.TYPE=c.TYPE,this.character=new SpineAnimation("character"),this.character.play("idle"),this.addChild(this.character),this.character.position.set(app.width/2,app.height-300)},c.prototype.update=function(a){HScreen.prototype.update.call(this)},c.prototype.onShow=function(){HScreen.prototype.onShow.call(this)},c.prototype.onHide=function(){HScreen.prototype.onHide.call(this)},c.prototype.onMouseDown=function(a,b){},c.prototype.onMouseMove=function(a,b){},c.prototype.onMouseUp=function(a,b){},c.prototype.onMouseCancel=function(a,b){},c.prototype.onRightMouseDown=function(a,b){},c.prototype.onRightMouseMove=function(a,b){},c.prototype.onRightMouseUp=function(a,b){},c.prototype.onNote=function(a,b,c){},c.prototype.onResize=function(){},c.prototype.destroy=function(){},a.SpineScreen=c}(window),function(a,b){function c(){this.initialize()}c.prototype=new HScreen,c.prototype.screenInitialize=c.prototype.initialize,c.prototype.initialize=function(){this.screenInitialize(),this.setBackgroundColor("#ffffff");var a=new Button("Back",Style.DEFAULT_BUTTON);a.onMouseDown=function(){Sounds.click.play(),app.navigator.goBack()},a.position.set(100+a.background.width/2,50),this.addChild(a),this.addTouchable(a),this.object=null,this.prep();for(var b=[{text:"Pop",fnt:this.pop},{text:"Move To",fnt:this.bounce},{text:"Squash",fnt:this.squash},{text:"Blink",fnt:this.blink},{text:"Shake",fnt:this.shake},{text:"Pulsate",fnt:this.pulsate},{text:"Sq/Stretch",fnt:this.ss},{text:"back-forth",fnt:this.backForth},{text:"rotate",fnt:this.rotate},{text:"rotate to",fnt:this.rotateTo},{text:"float",fnt:this.float}],c=0;c<b.length;c++)this.createButton(b[c].text,b[c].fnt,200,200+80*c);var d=this;this.object2=new Sprite("item1"),this.object2.position.set(app.width/2+400,500),this.object2.centered(),this.addChild(this.object2),this.sequence=new Sequencer(this);this.sequence.addThread([new TweenMoveTo(this.object2,new V(app.width/2+500,600),new Bezier(.24,.73,.58,.98),500).name("one"),new TweenScale(this.object2,1.5,new Bezier(.56,.11,.33,1.32),600).name("two"),[new TweenIdle(800).name("pause"),new TweenMoveTo(this.object2,new V(app.width/2+550,550),new Bezier(.59,.13,.51,.89),600)],new TweenMoveTo(this.object2,new V(app.width/2+400,500),null,400).name("tree"),[new TweenScale(this.object2,1,new Bezier(.16,.31,.47,.98),400).name("four")]]);this.sequence.addThread([new TweenAlpha(this.object2,.5,null,800),new TweenIdle(500),new TweenAlpha(this.object2,1,null,400)]);var e=new Button("Sequence",Style.DEFAULT_BUTTON);e.onMouseDown=function(){d.sequence.stop(),d.object2.position.set(app.width/2+400,500),d.object2.alpha=1,d.object2.scale.set(1),d.object2.rotation=0,d.sequence.reset(),d.sequence.run(),Sounds.click.play()},e.position.set(app.width-200,50),this.addChild(e),this.addTouchable(e)},c.prototype.onSequencerStarted=function(a){Actions.stopByTag("_rotate"),new TweenRotateTo(this.object2,Math.degreesToRadians(360),null,a.threads[0].duration,function(a){a.rotation=0}).run("_rotate")},c.prototype.onTweenStarted=function(a,b,c,d){},c.prototype.onTweenEnded=function(a,b,c,d){},c.prototype.float=function(){this.prep(),new TweenFloat(this.object,10,null,1600).run("tween")},c.prototype.rotateTo=function(){this.prep();var a=new Easing(Easing.EASE_IN_OUT_ELASTIC);a.elasticity=9,new TweenRotateTo(this.object,Math.degreesToRadians(360),a,2600).run("tween")},c.prototype.rotate=function(){this.prep(),new TweenRotate(this.object,1,null,1800).repeat(2).run("tween")},c.prototype.backForth=function(){this.prep(),new TweenBackForth(this.object,new V(100,0),null,600).repeat(2).run("tween")},c.prototype.ss=function(){this.prep(),new TweenSquashStretch(this.object,1.2,null,400).repeat(2).run("tween")},c.prototype.pulsate=function(){this.prep(),new TweenPulsate(this.object,1.2,null,300).repeat(2).run("tween")},c.prototype.shake=function(){this.prep(),new TweenShakeX(this.object,5,50,null,300).run("tween")},c.prototype.blink=function(){this.prep(),new TweenBlink(this.object,.5,null,600).repeat(2).run("tween")},c.prototype.squash=function(){this.prep(),new TweenSquashy(this.object,2,null,400).run("tween")},c.prototype.bounce=function(){this.prep();var a=new Easing(Easing.EASE_OUT_BOUNCE);new TweenMoveTo(this.object,new V(app.width/2,800),a,1e3).delay(300).run("tween")},c.prototype.pop=function(){this.prep(),new TweenPop(this.object,1.2,new Bezier(.09,.71,.69,1.21),800).elsticity(6).nonBounce(.3).run("tween")},c.prototype.createButton=function(a,b,c,d){var e=new Button("Back",Style.DEFAULT_BUTTON);e.label.txt=a,e.onMouseDown=function(){Sounds.click.play(),b.call(this)}.bind(this),e.position.set(c,d),this.addChild(e),this.addTouchable(e)},c.prototype.prep=function(){this.object&&this.object.removeFromParent(),Actions.stopByTag("tween"),this.object=new Sprite("item2"),this.object.position.set(app.width/2,500),this.object.centered(),this.addChild(this.object)},c.prototype.onHide=function(){Actions.stopByTag("tween")},a.TweenScreen=c}(window);