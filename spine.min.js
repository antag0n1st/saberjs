var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),pixi_spine;!function(a){!function(a){var b=function(){function a(a,b,c){if(null==a)throw new Error("name cannot be null.");if(null==b)throw new Error("timelines cannot be null.");this.name=a,this.timelines=b,this.duration=c}return a.prototype.apply=function(a,b,c,d,e,f,g,h){if(null==a)throw new Error("skeleton cannot be null.");d&&0!=this.duration&&(c%=this.duration,b>0&&(b%=this.duration));for(var i=this.timelines,j=0,k=i.length;j<k;j++)i[j].apply(a,b,c,e,f,g,h)},a.binarySearch=function(a,b,c){void 0===c&&(c=1);var d=0,e=a.length/c-2;if(0==e)return c;for(var f=e>>>1;;){if(a[(f+1)*c]<=b?d=f+1:e=f,d==e)return(d+1)*c;f=d+e>>>1}},a.linearSearch=function(a,b,c){for(var d=0,e=a.length-c;d<=e;d+=c)if(a[d]>b)return d;return-1},a}();a.Animation=b;var c;!function(a){a[a.rotate=0]="rotate",a[a.translate=1]="translate",a[a.scale=2]="scale",a[a.shear=3]="shear",a[a.attachment=4]="attachment",a[a.color=5]="color",a[a.deform=6]="deform",a[a.event=7]="event",a[a.drawOrder=8]="drawOrder",a[a.ikConstraint=9]="ikConstraint",a[a.transformConstraint=10]="transformConstraint",a[a.pathConstraintPosition=11]="pathConstraintPosition",a[a.pathConstraintSpacing=12]="pathConstraintSpacing",a[a.pathConstraintMix=13]="pathConstraintMix"}(c=a.TimelineType||(a.TimelineType={}));var d=function(){function b(c){if(c<=0)throw new Error("frameCount must be > 0: "+c);this.curves=a.Utils.newFloatArray((c-1)*b.BEZIER_SIZE)}return b.prototype.getFrameCount=function(){return this.curves.length/b.BEZIER_SIZE+1},b.prototype.setLinear=function(a){this.curves[a*b.BEZIER_SIZE]=b.LINEAR},b.prototype.setStepped=function(a){this.curves[a*b.BEZIER_SIZE]=b.STEPPED},b.prototype.getCurveType=function(a){var c=a*b.BEZIER_SIZE;if(c==this.curves.length)return b.LINEAR;var d=this.curves[c];return d==b.LINEAR?b.LINEAR:d==b.STEPPED?b.STEPPED:b.BEZIER},b.prototype.setCurve=function(a,c,d,e,f){var g=.03*(2*-c+e),h=.03*(2*-d+f),i=.006*(3*(c-e)+1),j=.006*(3*(d-f)+1),k=2*g+i,l=2*h+j,m=.3*c+g+.16666667*i,n=.3*d+h+.16666667*j,o=a*b.BEZIER_SIZE,p=this.curves;p[o++]=b.BEZIER;for(var q=m,r=n,s=o+b.BEZIER_SIZE-1;o<s;o+=2)p[o]=q,p[o+1]=r,m+=k,n+=l,k+=i,l+=j,q+=m,r+=n},b.prototype.getCurvePercent=function(c,d){d=a.MathUtils.clamp(d,0,1);var e=this.curves,f=c*b.BEZIER_SIZE,g=e[f];if(g==b.LINEAR)return d;if(g==b.STEPPED)return 0;f++;for(var h=0,i=f,j=f+b.BEZIER_SIZE-1;f<j;f+=2)if((h=e[f])>=d){var k=void 0,l=void 0;return f==i?(k=0,l=0):(k=e[f-2],l=e[f-1]),l+(e[f+1]-l)*(d-k)/(h-k)}var m=e[f-1];return m+(1-m)*(d-h)/(1-h)},b}();d.LINEAR=0,d.STEPPED=1,d.BEZIER=2,d.BEZIER_SIZE=19,a.CurveTimeline=d;var e=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b<<1),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(a,b,c){a<<=1,this.frames[a]=b,this.frames[a+e.ROTATION]=c},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.bones[this.boneIndex];if(d<j[0])return void(h&&(k.rotation=k.data.rotation));if(d>=j[j.length-e.ENTRIES])if(h)k.rotation=k.data.rotation+j[j.length+e.PREV_ROTATION]*g;else{var l=k.data.rotation+j[j.length+e.PREV_ROTATION]-k.rotation;l-=360*(16384-(16384.499999999996-l/360|0)),k.rotation+=l*g}else{var m=b.binarySearch(j,d,e.ENTRIES),n=j[m+e.PREV_ROTATION],o=j[m],p=this.getCurvePercent((m>>1)-1,1-(d-o)/(j[m+e.PREV_TIME]-o)),q=j[m+e.ROTATION]-n;q-=360*(16384-(16384.499999999996-q/360|0)),q=n+q*p,h?(q-=360*(16384-(16384.499999999996-q/360|0)),k.rotation=k.data.rotation+q*g):(q=k.data.rotation+q-k.rotation,q-=360*(16384-(16384.499999999996-q/360|0)),k.rotation+=q*g)}},e}(d);e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,a.RotateTimeline=e;var f=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.translate<<24)+this.boneIndex},e.prototype.setFrame=function(a,b,c,d){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.X]=c,this.frames[a+e.Y]=d},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.bones[this.boneIndex];if(d<j[0])return void(h&&(k.x=k.data.x,k.y=k.data.y));var l=0,m=0;if(d>=j[j.length-e.ENTRIES])l=j[j.length+e.PREV_X],m=j[j.length+e.PREV_Y];else{var n=b.binarySearch(j,d,e.ENTRIES);l=j[n+e.PREV_X],m=j[n+e.PREV_Y];var o=j[n],p=this.getCurvePercent(n/e.ENTRIES-1,1-(d-o)/(j[n+e.PREV_TIME]-o));l+=(j[n+e.X]-l)*p,m+=(j[n+e.Y]-m)*p}h?(k.x=k.data.x+l*g,k.y=k.data.y+m*g):(k.x+=(k.data.x+l-k.x)*g,k.y+=(k.data.y+m-k.y)*g)},e}(d);f.ENTRIES=3,f.PREV_TIME=-3,f.PREV_X=-2,f.PREV_Y=-1,f.X=1,f.Y=2,a.TranslateTimeline=f;var g=function(d){function e(a){return d.call(this,a)||this}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.scale<<24)+this.boneIndex},e.prototype.apply=function(c,d,f,g,h,i,j){var k=this.frames,l=c.bones[this.boneIndex];if(f<k[0])return void(i&&(l.scaleX=l.data.scaleX,l.scaleY=l.data.scaleY));var m=0,n=0;if(f>=k[k.length-e.ENTRIES])m=k[k.length+e.PREV_X]*l.data.scaleX,n=k[k.length+e.PREV_Y]*l.data.scaleY;else{var o=b.binarySearch(k,f,e.ENTRIES);m=k[o+e.PREV_X],n=k[o+e.PREV_Y];var p=k[o],q=this.getCurvePercent(o/e.ENTRIES-1,1-(f-p)/(k[o+e.PREV_TIME]-p));m=(m+(k[o+e.X]-m)*q)*l.data.scaleX,n=(n+(k[o+e.Y]-n)*q)*l.data.scaleY}if(1==h)l.scaleX=m,l.scaleY=n;else{var r=0,s=0;i?(r=l.data.scaleX,s=l.data.scaleY):(r=l.scaleX,s=l.scaleY),j?(m=Math.abs(m)*a.MathUtils.signum(r),n=Math.abs(n)*a.MathUtils.signum(s)):(r=Math.abs(r)*a.MathUtils.signum(m),s=Math.abs(s)*a.MathUtils.signum(n)),l.scaleX=r+(m-r)*h,l.scaleY=s+(n-s)*h}},e}(f);a.ScaleTimeline=g;var h=function(a){function d(b){return a.call(this,b)||this}return __extends(d,a),d.prototype.getPropertyId=function(){return(c.shear<<24)+this.boneIndex},d.prototype.apply=function(a,c,e,f,g,h,i){var j=this.frames,k=a.bones[this.boneIndex];if(e<j[0])return void(h&&(k.shearX=k.data.shearX,k.shearY=k.data.shearY));var l=0,m=0;if(e>=j[j.length-d.ENTRIES])l=j[j.length+d.PREV_X],m=j[j.length+d.PREV_Y];else{var n=b.binarySearch(j,e,d.ENTRIES);l=j[n+d.PREV_X],m=j[n+d.PREV_Y];var o=j[n],p=this.getCurvePercent(n/d.ENTRIES-1,1-(e-o)/(j[n+d.PREV_TIME]-o));l+=(j[n+d.X]-l)*p,m+=(j[n+d.Y]-m)*p}h?(k.shearX=k.data.shearX+l*g,k.shearY=k.data.shearY+m*g):(k.shearX+=(k.data.shearX+l-k.shearX)*g,k.shearY+=(k.data.shearY+m-k.shearY)*g)},d}(f);a.ShearTimeline=h;var i=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.color<<24)+this.slotIndex},e.prototype.setFrame=function(a,b,c,d,f,g){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.R]=c,this.frames[a+e.G]=d,this.frames[a+e.B]=f,this.frames[a+e.A]=g},e.prototype.apply=function(a,c,d,f,g,h,i){var j=a.slots[this.slotIndex],k=this.frames;if(d<k[0])return void(h&&j.color.setFromColor(j.data.color));var l=0,m=0,n=0,o=0;if(d>=k[k.length-e.ENTRIES]){var p=k.length;l=k[p+e.PREV_R],m=k[p+e.PREV_G],n=k[p+e.PREV_B],o=k[p+e.PREV_A]}else{var q=b.binarySearch(k,d,e.ENTRIES);l=k[q+e.PREV_R],m=k[q+e.PREV_G],n=k[q+e.PREV_B],o=k[q+e.PREV_A];var r=k[q],s=this.getCurvePercent(q/e.ENTRIES-1,1-(d-r)/(k[q+e.PREV_TIME]-r));l+=(k[q+e.R]-l)*s,m+=(k[q+e.G]-m)*s,n+=(k[q+e.B]-n)*s,o+=(k[q+e.A]-o)*s}if(1==g)j.color.set(l,m,n,o);else{var t=j.color;h&&t.setFromColor(j.data.color),t.add((l-t.r)*g,(m-t.g)*g,(n-t.b)*g,(o-t.a)*g)}},e}(d);i.ENTRIES=5,i.PREV_TIME=-5,i.PREV_R=-4,i.PREV_G=-3,i.PREV_B=-2,i.PREV_A=-1,i.R=1,i.G=2,i.B=3,i.A=4,a.ColorTimeline=i;var j=function(){function d(b){this.frames=a.Utils.newFloatArray(b),this.attachmentNames=new Array(b)}return d.prototype.getPropertyId=function(){return(c.attachment<<24)+this.slotIndex},d.prototype.getFrameCount=function(){return this.frames.length},d.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.attachmentNames[a]=c},d.prototype.apply=function(a,c,d,e,f,g,h){var i=a.slots[this.slotIndex];if(h&&g){var j=i.data.attachmentName;return void i.setAttachment(null==j?null:a.getAttachment(this.slotIndex,j))}var k=this.frames;if(d<k[0]){if(g){var l=i.data.attachmentName;i.setAttachment(null==l?null:a.getAttachment(this.slotIndex,l))}}else{var m=0;m=d>=k[k.length-1]?k.length-1:b.binarySearch(k,d,1)-1;var n=this.attachmentNames[m];a.slots[this.slotIndex].setAttachment(null==n?null:a.getAttachment(this.slotIndex,n))}},d}();a.AttachmentTimeline=j;var k=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b),c.frameVertices=new Array(b),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.deform<<24)+this.slotIndex},e.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.frameVertices[a]=c},e.prototype.apply=function(c,d,e,f,g,h,i){var j=c.slots[this.slotIndex],k=j.getAttachment();if(k instanceof a.VertexAttachment&&k.applyDeform(this.attachment)){var l=this.frames,m=j.attachmentVertices;if(e<l[0])return void(h&&a.Utils.setArraySize(m,0));var n=this.frameVertices,o=n[0].length;m.length!=o&&(g=1);var p=a.Utils.setArraySize(m,o);if(e>=l[l.length-1]){var q=n[l.length-1];if(1==g)a.Utils.arrayCopy(q,0,p,0,o);else if(h){var r=k;if(null==r.bones)for(var s=r.vertices,t=0;t<o;t++){var u=s[t];p[t]=u+(q[t]-u)*g}else for(var t=0;t<o;t++)p[t]=q[t]*g}else for(var t=0;t<o;t++)p[t]+=(q[t]-p[t])*g}else{var v=b.binarySearch(l,e),w=n[v-1],x=n[v],y=l[v],z=this.getCurvePercent(v-1,1-(e-y)/(l[v-1]-y));if(1==g)for(var t=0;t<o;t++){var A=w[t];p[t]=A+(x[t]-A)*z}else if(h){var r=k;if(null==r.bones)for(var s=r.vertices,t=0;t<o;t++){var A=w[t],u=s[t];p[t]=u+(A+(x[t]-A)*z-u)*g}else for(var t=0;t<o;t++){var A=w[t];p[t]=(A+(x[t]-A)*z)*g}}else for(var t=0;t<o;t++){var A=w[t];p[t]+=(A+(x[t]-A)*z-p[t])*g}}}},e}(d);a.DeformTimeline=k;var l=function(){function d(b){this.frames=a.Utils.newFloatArray(b),this.events=new Array(b)}return d.prototype.getPropertyId=function(){return c.event<<24},d.prototype.getFrameCount=function(){return this.frames.length},d.prototype.setFrame=function(a,b){this.frames[a]=b.time,this.events[a]=b},d.prototype.apply=function(a,c,d,e,f,g,h){if(null!=e){var i=this.frames,j=this.frames.length;if(c>d)this.apply(a,c,Number.MAX_VALUE,e,f,g,h),c=-1;else if(c>=i[j-1])return;if(!(d<i[0])){var k=0;if(c<i[0])k=0;else{k=b.binarySearch(i,c);for(var l=i[k];k>0&&i[k-1]==l;)k--}for(;k<j&&d>=i[k];k++)e.push(this.events[k])}}},d}();a.EventTimeline=l;var m=function(){function d(b){this.frames=a.Utils.newFloatArray(b),this.drawOrders=new Array(b)}return d.prototype.getPropertyId=function(){return c.drawOrder<<24},d.prototype.getFrameCount=function(){return this.frames.length},d.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.drawOrders[a]=c},d.prototype.apply=function(c,d,e,f,g,h,i){var j=c.drawOrder,k=c.slots;if(i&&h)return void a.Utils.arrayCopy(c.slots,0,c.drawOrder,0,c.slots.length);var l=this.frames;if(e<l[0])return void(h&&a.Utils.arrayCopy(c.slots,0,c.drawOrder,0,c.slots.length));var m=0;m=e>=l[l.length-1]?l.length-1:b.binarySearch(l,e)-1;var n=this.drawOrders[m];if(null==n)a.Utils.arrayCopy(k,0,j,0,k.length);else for(var o=0,p=n.length;o<p;o++)j[o]=k[n[o]]},d}();a.DrawOrderTimeline=m;var n=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(a,b,c,d){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.MIX]=c,this.frames[a+e.BEND_DIRECTION]=d},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.ikConstraints[this.ikConstraintIndex];if(d<j[0])return void(h&&(k.mix=k.data.mix,k.bendDirection=k.data.bendDirection));if(d>=j[j.length-e.ENTRIES])return void(h?(k.mix=k.data.mix+(j[j.length+e.PREV_MIX]-k.data.mix)*g,k.bendDirection=i?k.data.bendDirection:j[j.length+e.PREV_BEND_DIRECTION]):(k.mix+=(j[j.length+e.PREV_MIX]-k.mix)*g,i||(k.bendDirection=j[j.length+e.PREV_BEND_DIRECTION])));var l=b.binarySearch(j,d,e.ENTRIES),m=j[l+e.PREV_MIX],n=j[l],o=this.getCurvePercent(l/e.ENTRIES-1,1-(d-n)/(j[l+e.PREV_TIME]-n));h?(k.mix=k.data.mix+(m+(j[l+e.MIX]-m)*o-k.data.mix)*g,k.bendDirection=i?k.data.bendDirection:j[l+e.PREV_BEND_DIRECTION]):(k.mix+=(m+(j[l+e.MIX]-m)*o-k.mix)*g,i||(k.bendDirection=j[l+e.PREV_BEND_DIRECTION]))},e}(d);n.ENTRIES=3,n.PREV_TIME=-3,n.PREV_MIX=-2,n.PREV_BEND_DIRECTION=-1,n.MIX=1,n.BEND_DIRECTION=2,a.IkConstraintTimeline=n;var o=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(a,b,c,d,f,g){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.ROTATE]=c,this.frames[a+e.TRANSLATE]=d,this.frames[a+e.SCALE]=f,this.frames[a+e.SHEAR]=g},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.transformConstraints[this.transformConstraintIndex];if(d<j[0]){if(h){var l=k.data;k.rotateMix=l.rotateMix,k.translateMix=l.rotateMix,k.scaleMix=l.scaleMix,k.shearMix=l.shearMix}}else{var m=0,n=0,o=0,p=0;if(d>=j[j.length-e.ENTRIES]){var q=j.length;m=j[q+e.PREV_ROTATE],n=j[q+e.PREV_TRANSLATE],o=j[q+e.PREV_SCALE],p=j[q+e.PREV_SHEAR]}else{var r=b.binarySearch(j,d,e.ENTRIES);m=j[r+e.PREV_ROTATE],n=j[r+e.PREV_TRANSLATE],o=j[r+e.PREV_SCALE],p=j[r+e.PREV_SHEAR];var s=j[r],t=this.getCurvePercent(r/e.ENTRIES-1,1-(d-s)/(j[r+e.PREV_TIME]-s));m+=(j[r+e.ROTATE]-m)*t,n+=(j[r+e.TRANSLATE]-n)*t,o+=(j[r+e.SCALE]-o)*t,p+=(j[r+e.SHEAR]-p)*t}if(h){var l=k.data;k.rotateMix=l.rotateMix+(m-l.rotateMix)*g,k.translateMix=l.translateMix+(n-l.translateMix)*g,k.scaleMix=l.scaleMix+(o-l.scaleMix)*g,k.shearMix=l.shearMix+(p-l.shearMix)*g}else k.rotateMix+=(m-k.rotateMix)*g,k.translateMix+=(n-k.translateMix)*g,k.scaleMix+=(o-k.scaleMix)*g,k.shearMix+=(p-k.shearMix)*g}},e}(d);o.ENTRIES=5,o.PREV_TIME=-5,o.PREV_ROTATE=-4,o.PREV_TRANSLATE=-3,o.PREV_SCALE=-2,o.PREV_SHEAR=-1,o.ROTATE=1,o.TRANSLATE=2,o.SCALE=3,o.SHEAR=4,a.TransformConstraintTimeline=o;var p=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(a,b,c){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.VALUE]=c},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.pathConstraints[this.pathConstraintIndex];if(d<j[0])return void(h&&(k.position=k.data.position));var l=0;if(d>=j[j.length-e.ENTRIES])l=j[j.length+e.PREV_VALUE];else{var m=b.binarySearch(j,d,e.ENTRIES);l=j[m+e.PREV_VALUE];var n=j[m],o=this.getCurvePercent(m/e.ENTRIES-1,1-(d-n)/(j[m+e.PREV_TIME]-n));l+=(j[m+e.VALUE]-l)*o}h?k.position=k.data.position+(l-k.data.position)*g:k.position+=(l-k.position)*g},e}(d);p.ENTRIES=2,p.PREV_TIME=-2,p.PREV_VALUE=-1,p.VALUE=1,a.PathConstraintPositionTimeline=p;var q=function(a){function d(b){return a.call(this,b)||this}return __extends(d,a),d.prototype.getPropertyId=function(){return(c.pathConstraintSpacing<<24)+this.pathConstraintIndex},d.prototype.apply=function(a,c,e,f,g,h,i){var j=this.frames,k=a.pathConstraints[this.pathConstraintIndex];if(e<j[0])return void(h&&(k.spacing=k.data.spacing));var l=0;if(e>=j[j.length-d.ENTRIES])l=j[j.length+d.PREV_VALUE];else{var m=b.binarySearch(j,e,d.ENTRIES);l=j[m+d.PREV_VALUE];var n=j[m],o=this.getCurvePercent(m/d.ENTRIES-1,1-(e-n)/(j[m+d.PREV_TIME]-n));l+=(j[m+d.VALUE]-l)*o}h?k.spacing=k.data.spacing+(l-k.data.spacing)*g:k.spacing+=(l-k.spacing)*g},d}(p);a.PathConstraintSpacingTimeline=q;var r=function(d){function e(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*e.ENTRIES),c}return __extends(e,d),e.prototype.getPropertyId=function(){return(c.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(a,b,c,d){a*=e.ENTRIES,this.frames[a]=b,this.frames[a+e.ROTATE]=c,this.frames[a+e.TRANSLATE]=d},e.prototype.apply=function(a,c,d,f,g,h,i){var j=this.frames,k=a.pathConstraints[this.pathConstraintIndex];if(d<j[0])return void(h&&(k.rotateMix=k.data.rotateMix,k.translateMix=k.data.translateMix));var l=0,m=0;if(d>=j[j.length-e.ENTRIES])l=j[j.length+e.PREV_ROTATE],m=j[j.length+e.PREV_TRANSLATE];else{var n=b.binarySearch(j,d,e.ENTRIES);l=j[n+e.PREV_ROTATE],m=j[n+e.PREV_TRANSLATE];var o=j[n],p=this.getCurvePercent(n/e.ENTRIES-1,1-(d-o)/(j[n+e.PREV_TIME]-o));l+=(j[n+e.ROTATE]-l)*p,m+=(j[n+e.TRANSLATE]-m)*p}h?(k.rotateMix=k.data.rotateMix+(l-k.data.rotateMix)*g,k.translateMix=k.data.translateMix+(m-k.data.translateMix)*g):(k.rotateMix+=(l-k.rotateMix)*g,k.translateMix+=(m-k.translateMix)*g)},e}(d);r.ENTRIES=3,r.PREV_TIME=-3,r.PREV_ROTATE=-2,r.PREV_TRANSLATE=-1,r.ROTATE=1,r.TRANSLATE=2,a.PathConstraintMixTimeline=r}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(b){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new d(this),this.propertyIDs=new a.IntSet,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new a.Pool(function(){return new c}),this.data=b}return b.prototype.update=function(a){a*=this.timeScale;for(var b=this.tracks,c=0,d=b.length;c<d;c++){var e=b[c];if(null!=e){e.animationLast=e.nextAnimationLast,e.trackLast=e.nextTrackLast;var f=a*e.timeScale;if(e.delay>0){if(e.delay-=f,e.delay>0)continue;f=-e.delay,e.delay=0}var g=e.next;if(null!=g){var h=e.trackLast-g.delay;if(h>=0){for(g.delay=0,g.trackTime=h+a*g.timeScale,e.trackTime+=f,this.setCurrent(c,g,!0);null!=g.mixingFrom;)g.mixTime+=f,g=g.mixingFrom;continue}}else if(e.trackLast>=e.trackEnd&&null==e.mixingFrom){b[c]=null,this.queue.end(e),this.disposeNext(e);continue}this.updateMixingFrom(e,a),e.trackTime+=f}}this.queue.drain()},b.prototype.updateMixingFrom=function(a,b){var c=a.mixingFrom;if(null!=c){if(this.updateMixingFrom(c,b),a.mixTime>=a.mixDuration&&null!=c.mixingFrom&&a.mixTime>0)return a.mixingFrom=null,void this.queue.end(c);c.animationLast=c.nextAnimationLast,c.trackLast=c.nextTrackLast,c.trackTime+=b*c.timeScale,a.mixTime+=b*c.timeScale}},b.prototype.apply=function(b){if(null==b)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var c=this.events,d=this.tracks,e=0,f=d.length;e<f;e++){var g=d[e];if(!(null==g||g.delay>0)){var h=g.alpha;null!=g.mixingFrom?h*=this.applyMixingFrom(g,b):g.trackTime>=g.trackEnd&&(h=0);var i=g.animationLast,j=g.getAnimationTime(),k=g.animation.timelines.length,l=g.animation.timelines;if(1==h)for(var m=0;m<k;m++)l[m].apply(b,i,j,c,1,!0,!1);else{var n=0==g.timelinesRotation.length;n&&a.Utils.setArraySize(g.timelinesRotation,k<<1,null);for(var o=g.timelinesRotation,p=g.timelinesFirst,m=0;m<k;m++){var q=l[m];q instanceof a.RotateTimeline?this.applyRotateTimeline(q,b,j,h,p[m],o,m<<1,n):q.apply(b,i,j,c,h,p[m],!1)}}this.queueEvents(g,j),c.length=0,g.nextAnimationLast=j,g.nextTrackLast=g.trackTime}}this.queue.drain()},b.prototype.applyMixingFrom=function(b,c){var d=b.mixingFrom;null!=d.mixingFrom&&this.applyMixingFrom(d,c);var e=0;0==b.mixDuration?e=1:(e=b.mixTime/b.mixDuration)>1&&(e=1);var f=e<d.eventThreshold?this.events:null,g=e<d.attachmentThreshold,h=e<d.drawOrderThreshold,i=d.animationLast,j=d.getAnimationTime(),k=d.animation.timelines.length,l=d.animation.timelines,m=d.timelinesFirst,n=d.alpha*b.mixAlpha*(1-e),o=0==d.timelinesRotation.length;o&&a.Utils.setArraySize(d.timelinesRotation,k<<1,null);for(var p=d.timelinesRotation,q=0;q<k;q++){var r=l[q],s=m[q];if(r instanceof a.RotateTimeline)this.applyRotateTimeline(r,c,j,n,s,p,q<<1,o);else{if(!s){if(!g&&r instanceof a.AttachmentTimeline)continue;if(!h&&r instanceof a.DrawOrderTimeline)continue}r.apply(c,i,j,f,n,s,!0)}}return b.mixDuration>0&&this.queueEvents(d,j),this.events.length=0,d.nextAnimationLast=j,d.nextTrackLast=d.trackTime,e},b.prototype.applyRotateTimeline=function(b,c,d,e,f,g,h,i){if(i&&(g[h]=0),1==e)return void b.apply(c,0,d,null,1,f,!1);var j=b,k=j.frames,l=c.bones[j.boneIndex];if(d<k[0])return void(f&&(l.rotation=l.data.rotation));var m=0;if(d>=k[k.length-a.RotateTimeline.ENTRIES])m=l.data.rotation+k[k.length+a.RotateTimeline.PREV_ROTATION];else{var n=a.Animation.binarySearch(k,d,a.RotateTimeline.ENTRIES),o=k[n+a.RotateTimeline.PREV_ROTATION],p=k[n],q=j.getCurvePercent((n>>1)-1,1-(d-p)/(k[n+a.RotateTimeline.PREV_TIME]-p));m=k[n+a.RotateTimeline.ROTATION]-o,m-=360*(16384-(16384.499999999996-m/360|0)),m=o+m*q+l.data.rotation,m-=360*(16384-(16384.499999999996-m/360|0))}var r=f?l.data.rotation:l.rotation,s=0,t=m-r;if(0==t)s=g[h];else{t-=360*(16384-(16384.499999999996-t/360|0));var u=0,v=0;i?(u=0,v=t):(u=g[h],v=g[h+1]);var w=t>0,x=u>=0;a.MathUtils.signum(v)!=a.MathUtils.signum(t)&&Math.abs(v)<=90&&(Math.abs(u)>180&&(u+=360*a.MathUtils.signum(u)),x=w),s=t+u-u%360,x!=w&&(s+=360*a.MathUtils.signum(u)),g[h]=s}g[h+1]=t,r+=s*e,l.rotation=r-360*(16384-(16384.499999999996-r/360|0))},b.prototype.queueEvents=function(a,b){for(var c=a.animationStart,d=a.animationEnd,e=d-c,f=a.trackLast%e,g=this.events,h=0,i=g.length;h<i;h++){var j=g[h];if(j.time<f)break;j.time>d||this.queue.event(a,j)}for((a.loop?f>a.trackTime%e:b>=d&&a.animationLast<d)&&this.queue.complete(a);h<i;h++){g[h].time<c||this.queue.event(a,g[h])}},b.prototype.clearTracks=function(){var a=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var b=0,c=this.tracks.length;b<c;b++)this.clearTrack(b);this.tracks.length=0,this.queue.drainDisabled=a,this.queue.drain()},b.prototype.clearTrack=function(a){if(!(a>=this.tracks.length)){var b=this.tracks[a];if(null!=b){this.queue.end(b),this.disposeNext(b);for(var c=b;;){var d=c.mixingFrom;if(null==d)break;this.queue.end(d),c.mixingFrom=null,c=d}this.tracks[b.trackIndex]=null,this.queue.drain()}}},b.prototype.setCurrent=function(a,b,c){var d=this.expandToIndex(a);this.tracks[a]=b,null!=d&&(c&&this.queue.interrupt(d),b.mixingFrom=d,b.mixTime=0,d.timelinesRotation.length=0,null!=d.mixingFrom&&d.mixDuration>0&&(b.mixAlpha*=Math.min(d.mixTime/d.mixDuration,1))),this.queue.start(b)},b.prototype.setAnimation=function(a,b,c){var d=this.data.skeletonData.findAnimation(b);if(null==d)throw new Error("Animation not found: "+b);return this.setAnimationWith(a,d,c)},b.prototype.setAnimationWith=function(a,b,c){if(null==b)throw new Error("animation cannot be null.");var d=!0,e=this.expandToIndex(a);null!=e&&(-1==e.nextTrackLast?(this.tracks[a]=e.mixingFrom,this.queue.interrupt(e),this.queue.end(e),this.disposeNext(e),e=e.mixingFrom,d=!1):this.disposeNext(e));var f=this.trackEntry(a,b,c,e);return this.setCurrent(a,f,d),this.queue.drain(),f},b.prototype.addAnimation=function(a,b,c,d){var e=this.data.skeletonData.findAnimation(b);if(null==e)throw new Error("Animation not found: "+b);return this.addAnimationWith(a,e,c,d)},b.prototype.addAnimationWith=function(a,b,c,d){if(null==b)throw new Error("animation cannot be null.");var e=this.expandToIndex(a);if(null!=e)for(;null!=e.next;)e=e.next;var f=this.trackEntry(a,b,c,e);if(null==e)this.setCurrent(a,f,!0),this.queue.drain();else if(e.next=f,d<=0){var g=e.animationEnd-e.animationStart;0!=g?d+=g*(1+(e.trackTime/g|0))-this.data.getMix(e.animation,b):d=0}return f.delay=d,f},b.prototype.setEmptyAnimation=function(a,c){var d=this.setAnimationWith(a,b.emptyAnimation,!1);return d.mixDuration=c,d.trackEnd=c,d},b.prototype.addEmptyAnimation=function(a,c,d){d<=0&&(d-=c);var e=this.addAnimationWith(a,b.emptyAnimation,!1,d);return e.mixDuration=c,e.trackEnd=c,e},b.prototype.setEmptyAnimations=function(a){var b=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var c=0,d=this.tracks.length;c<d;c++){var e=this.tracks[c];null!=e&&this.setEmptyAnimation(e.trackIndex,a)}this.queue.drainDisabled=b,this.queue.drain()},b.prototype.expandToIndex=function(b){return b<this.tracks.length?this.tracks[b]:(a.Utils.ensureArrayCapacity(this.tracks,b-this.tracks.length+1,null),this.tracks.length=b+1,null)},b.prototype.trackEntry=function(a,b,c,d){var e=this.trackEntryPool.obtain();return e.trackIndex=a,e.animation=b,e.loop=c,e.eventThreshold=0,e.attachmentThreshold=0,e.drawOrderThreshold=0,e.animationStart=0,e.animationEnd=b.duration,e.animationLast=-1,e.nextAnimationLast=-1,e.delay=0,e.trackTime=0,e.trackLast=-1,e.nextTrackLast=-1,e.trackEnd=Number.MAX_VALUE,e.timeScale=1,e.alpha=1,e.mixAlpha=1,e.mixTime=0,e.mixDuration=null==d?0:this.data.getMix(d.animation,b),e},b.prototype.disposeNext=function(a){for(var b=a.next;null!=b;)this.queue.dispose(b),b=b.next;a.next=null},b.prototype._animationsChanged=function(){this.animationsChanged=!1;var a=this.propertyIDs,b=0,c=this.tracks.length;for(a.clear();b<c;b++){var d=this.tracks[b];if(null!=d){this.setTimelinesFirst(d),b++;break}}for(;b<c;b++){var d=this.tracks[b];null!=d&&this.checkTimelinesFirst(d)}},b.prototype.setTimelinesFirst=function(b){if(null!=b.mixingFrom)return this.setTimelinesFirst(b.mixingFrom),void this.checkTimelinesUsage(b,b.timelinesFirst);for(var c=this.propertyIDs,d=b.animation.timelines,e=d.length,f=a.Utils.setArraySize(b.timelinesFirst,e,!1),g=0;g<e;g++)c.add(d[g].getPropertyId()),f[g]=!0},b.prototype.checkTimelinesFirst=function(a){null!=a.mixingFrom&&this.checkTimelinesFirst(a.mixingFrom),this.checkTimelinesUsage(a,a.timelinesFirst)},b.prototype.checkTimelinesUsage=function(b,c){for(var d=this.propertyIDs,e=b.animation.timelines,f=e.length,g=a.Utils.setArraySize(c,f),h=0;h<f;h++)g[h]=d.add(e[h].getPropertyId())},b.prototype.getCurrent=function(a){return a>=this.tracks.length?null:this.tracks[a]},b.prototype.addListener=function(a){if(null==a)throw new Error("listener cannot be null.");this.listeners.push(a)},b.prototype.removeListener=function(a){var b=this.listeners.indexOf(a);b>=0&&this.listeners.splice(b,1)},b.prototype.clearListeners=function(){this.listeners.length=0},b.prototype.clearListenerNotifications=function(){this.queue.clear()},b.prototype.setAnimationByName=function(a,c,d){b.deprecatedWarning1||(b.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(a,c,d)},b.prototype.addAnimationByName=function(a,c,d,e){b.deprecatedWarning2||(b.deprecatedWarning2=!0,console.warn("Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(a,c,d,e)},b.prototype.hasAnimation=function(a){return null!==this.data.skeletonData.findAnimation(a)},b.prototype.hasAnimationByName=function(a){return b.deprecatedWarning3||(b.deprecatedWarning3=!0,console.warn("Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(a)},b}();b.emptyAnimation=new a.Animation("<empty>",[],0),b.deprecatedWarning1=!1,b.deprecatedWarning2=!1,b.deprecatedWarning3=!1,a.AnimationState=b;var c=function(){function a(){this.timelinesFirst=new Array,this.timelinesRotation=new Array}return a.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelinesFirst.length=0,this.timelinesRotation.length=0},a.prototype.getAnimationTime=function(){if(this.loop){var a=this.animationEnd-this.animationStart;return 0==a?this.animationStart:this.trackTime%a+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},a.prototype.setAnimationLast=function(a){this.animationLast=a,this.nextAnimationLast=a},a.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},a.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(a.prototype,"time",{get:function(){return a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(b){a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=b},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"endTime",{get:function(){return a.deprecatedWarning2||(a.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(b){a.deprecatedWarning2||(a.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=b},enumerable:!0,configurable:!0}),a.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},a}();c.deprecatedWarning1=!1,c.deprecatedWarning2=!1,a.TrackEntry=c;var d=function(){function b(a){this.objects=[],this.drainDisabled=!1,this.animState=a}return b.prototype.start=function(a){this.objects.push(e.start),this.objects.push(a),this.animState.animationsChanged=!0},b.prototype.interrupt=function(a){this.objects.push(e.interrupt),this.objects.push(a)},b.prototype.end=function(a){this.objects.push(e.end),this.objects.push(a),this.animState.animationsChanged=!0},b.prototype.dispose=function(a){this.objects.push(e.dispose),this.objects.push(a)},b.prototype.complete=function(a){this.objects.push(e.complete),this.objects.push(a)},b.prototype.event=function(a,b){this.objects.push(e.event),this.objects.push(a),this.objects.push(b)},b.prototype.deprecateStuff=function(){return b.deprecatedWarning1||(b.deprecatedWarning1=!0,console.warn("Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},b.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var b=this.objects,c=this.animState.listeners,d=0;d<b.length;d+=2){var f=b[d],g=b[d+1];switch(f){case e.start:null!=g.listener&&g.listener.start&&g.listener.start(g);for(var h=0;h<c.length;h++)c[h].start&&c[h].start(g);g.onStart&&this.deprecateStuff()&&g.onStart(g.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(g.trackIndex);break;case e.interrupt:null!=g.listener&&g.listener.interrupt&&g.listener.interrupt(g);for(var h=0;h<c.length;h++)c[h].interrupt&&c[h].interrupt(g);break;case e.end:null!=g.listener&&g.listener.end&&g.listener.end(g);for(var h=0;h<c.length;h++)c[h].end&&c[h].end(g);g.onEnd&&this.deprecateStuff()&&g.onEnd(g.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(g.trackIndex);case e.dispose:null!=g.listener&&g.listener.dispose&&g.listener.dispose(g);for(var h=0;h<c.length;h++)c[h].dispose&&c[h].dispose(g);this.animState.trackEntryPool.free(g);break;case e.complete:null!=g.listener&&g.listener.complete&&g.listener.complete(g);for(var h=0;h<c.length;h++)c[h].complete&&c[h].complete(g);var i=a.MathUtils.toInt(g.loopsCount());g.onComplete&&this.deprecateStuff()&&g.onComplete(g.trackIndex,i),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(g.trackIndex,i);break;case e.event:var j=b[2+d++];null!=g.listener&&g.listener.event&&g.listener.event(g,j);for(var h=0;h<c.length;h++)c[h].event&&c[h].event(g,j);g.onEvent&&this.deprecateStuff()&&g.onEvent(g.trackIndex,j),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(g.trackIndex,j)}}this.clear(),this.drainDisabled=!1}},b.prototype.clear=function(){this.objects.length=0},b}();d.deprecatedWarning1=!1,a.EventQueue=d;var e;!function(a){a[a.start=0]="start",a[a.interrupt=1]="interrupt",a[a.end=2]="end",a[a.dispose=3]="dispose",a[a.complete=4]="complete",a[a.event=5]="event"}(e=a.EventType||(a.EventType={}));var f=function(){function a(){}return a.prototype.start=function(a){},a.prototype.interrupt=function(a){},a.prototype.end=function(a){},a.prototype.dispose=function(a){},a.prototype.complete=function(a){},a.prototype.event=function(a,b){},a}();a.AnimationStateAdapter2=f}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){if(this.animationToMixTime={},this.defaultMix=0,null==a)throw new Error("skeletonData cannot be null.");this.skeletonData=a}return a.prototype.setMix=function(a,b,c){var d=this.skeletonData.findAnimation(a);if(null==d)throw new Error("Animation not found: "+a);var e=this.skeletonData.findAnimation(b);if(null==e)throw new Error("Animation not found: "+b);this.setMixWith(d,e,c)},a.prototype.setMixByName=function(b,c,d){a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(b,c,d)},a.prototype.setMixWith=function(a,b,c){if(null==a)throw new Error("from cannot be null.");if(null==b)throw new Error("to cannot be null.");var d=a.name+b.name;this.animationToMixTime[d]=c},a.prototype.getMix=function(a,b){var c=a.name+b.name,d=this.animationToMixTime[c];return void 0===d?this.defaultMix:d},a}();b.deprecatedWarning1=!1,a.AnimationStateData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a){this.atlas=a}return b.prototype.newRegionAttachment=function(b,c,d){var e=this.atlas.findRegion(d);if(null==e)throw new Error("Region not found in atlas: "+d+" (region attachment: "+c+")");var f=new a.RegionAttachment(c);return f.region=e,f},b.prototype.newMeshAttachment=function(b,c,d){var e=this.atlas.findRegion(d);if(null==e)throw new Error("Region not found in atlas: "+d+" (mesh attachment: "+c+")");var f=new a.MeshAttachment(c);return f.region=e,f},b.prototype.newBoundingBoxAttachment=function(b,c){return new a.BoundingBoxAttachment(c)},b.prototype.newPathAttachment=function(b,c){return new a.PathAttachment(c)},b}();a.AtlasAttachmentLoader=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){if(null==a)throw new Error("name cannot be null.");this.name=a}return a}();a.Attachment=b;var c=function(a){function b(b){var c=a.call(this,b)||this;return c.worldVerticesLength=0,c}return __extends(b,a),b.prototype.computeWorldVertices=function(a,b){this.computeWorldVerticesWith(a,0,this.worldVerticesLength,b,0)},b.prototype.computeWorldVerticesWith=function(a,b,c,d,e){c+=e;var f=a.bone.skeleton,g=a.attachmentVertices,h=this.vertices,i=this.bones;if(null!=i){for(var j=0,k=0,l=0;l<b;l+=2){var m=i[j];j+=m+1,k+=m}var n=f.bones;if(0==g.length)for(var o=e,p=3*k;o<c;o+=2){var q=0,r=0,m=i[j++];for(m+=j;j<m;j++,p+=3){var s=n[i[j]],t=s.matrix,u=h[p],v=h[p+1],w=h[p+2];q+=(u*t.a+v*t.c+t.tx)*w,r+=(u*t.b+v*t.d+t.ty)*w}d[o]=q,d[o+1]=r}else for(var x=g,o=e,p=3*k,y=k<<1;o<c;o+=2){var q=0,r=0,m=i[j++];for(m+=j;j<m;j++,p+=3,y+=2){var s=n[i[j]],t=s.matrix,u=h[p]+x[y],v=h[p+1]+x[y+1],w=h[p+2];q+=(u*t.a+v*t.c+t.tx)*w,r+=(u*t.b+v*t.d+t.ty)*w}d[o]=q,d[o+1]=r}}else{g.length>0&&(h=g);for(var s=a.bone,t=s.matrix,z=t.tx,A=t.ty,B=t.a,p=t.c,C=t.b,D=t.d,E=b,o=e;o<c;E+=2,o+=2){var u=h[E],v=h[E+1];d[o]=u*B+v*p+z,d[o+1]=u*C+v*D+A}}},b.prototype.applyDeform=function(a){return this==a},b}(b);a.VertexAttachment=c}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){!function(a){a[a.Region=0]="Region",a[a.BoundingBox=1]="BoundingBox",a[a.Mesh=2]="Mesh",a[a.LinkedMesh=3]="LinkedMesh",a[a.Path=4]="Path"}(a.AttachmentType||(a.AttachmentType={}))}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(1,1,1,1),d}return __extends(c,b),c}(a.VertexAttachment);a.BoundingBoxAttachment=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(1,1,1,1),d.inheritDeform=!1,d.tempColor=new a.Color(0,0,0,0),d}return __extends(c,b),c.prototype.updateWorldVertices=function(a,b){return[]},c.prototype.updateUVs=function(b,c){var d=this.regionUVs,e=d.length;if(c&&c.length==e||(c=a.Utils.newFloatArray(e)),null!=b){for(var f=b.texture,g=f._uvs,h=b.width,i=b.height,j=b.originalWidth,k=b.originalHeight,l=b.offsetX,m=b.pixiOffsetY,n=0;n<e;n+=2){var o=this.regionUVs[n],p=this.regionUVs[n+1];o=(o*j-l)/h,p=(p*k-m)/i,c[n]=(g.x0*(1-o)+g.x1*o)*(1-p)+(g.x3*(1-o)+g.x2*o)*p,c[n+1]=(g.y0*(1-o)+g.y1*o)*(1-p)+(g.y3*(1-o)+g.y2*o)*p}return c}},c.prototype.applyDeform=function(a){return this==a||this.inheritDeform&&this.parentMesh==a},c.prototype.getParentMesh=function(){return this.parentMesh},c.prototype.setParentMesh=function(a){this.parentMesh=a,null!=a&&(this.bones=a.bones,this.vertices=a.vertices,this.regionUVs=a.regionUVs,this.triangles=a.triangles,this.hullLength=a.hullLength,this.worldVerticesLength=a.worldVerticesLength)},c}(a.VertexAttachment);a.MeshAttachment=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.closed=!1,d.constantSpeed=!1,d.color=new a.Color(1,1,1,1),d}return __extends(c,b),c}(a.VertexAttachment);a.PathAttachment=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.x=0,d.y=0,d.scaleX=1,d.scaleY=1,d.rotation=0,d.width=0,d.height=0,d.color=new a.Color(1,1,1,1),d}return __extends(c,b),c.prototype.updateWorldVertices=function(a,b){return[]},c}(a.Attachment);a.RegionAttachment=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){!function(a){a[a.Normal=0]="Normal",a[a.Additive=1]="Additive",a[a.Multiply=2]="Multiply",a[a.Screen=3]="Screen"}(a.BlendMode||(a.BlendMode={}))}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a,b,c){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.skeleton=b,this.parent=c,this.setToSetupPose()}return Object.defineProperty(b.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),b.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},b.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},b.prototype.updateWorldTransformWith=function(c,d,e,f,g,h,i){this.ax=c,this.ay=d,this.arotation=e,this.ascaleX=f,this.ascaleY=g,this.ashearX=h,this.ashearY=i,this.appliedValid=!0;var j=this.parent,k=this.matrix;if(null==j){var l=e+90+i,m=a.MathUtils.cosDeg(e+h)*f,n=a.MathUtils.cosDeg(l)*g,o=a.MathUtils.sinDeg(e+h)*f,p=a.MathUtils.sinDeg(l)*g,q=this.skeleton;return q.flipX&&(c=-c,m=-m,n=-n),q.flipY!==b.yDown&&(d=-d,o=-o,p=-p),k.a=m,k.c=n,k.b=o,k.d=p,k.tx=c+q.x,void(k.ty=d+q.y)}var r=j.matrix.a,s=j.matrix.c,t=j.matrix.b,u=j.matrix.d;switch(k.tx=r*c+s*d+j.matrix.tx,k.ty=t*c+u*d+j.matrix.ty,this.data.transformMode){case a.TransformMode.Normal:var l=e+90+i,m=a.MathUtils.cosDeg(e+h)*f,n=a.MathUtils.cosDeg(l)*g,o=a.MathUtils.sinDeg(e+h)*f,p=a.MathUtils.sinDeg(l)*g;return k.a=r*m+s*o,k.c=r*n+s*p,k.b=t*m+u*o,void(k.d=t*n+u*p);case a.TransformMode.OnlyTranslation:var l=e+90+i;k.a=a.MathUtils.cosDeg(e+h)*f,k.c=a.MathUtils.cosDeg(l)*g,k.b=a.MathUtils.sinDeg(e+h)*f,k.d=a.MathUtils.sinDeg(l)*g;break;case a.TransformMode.NoRotationOrReflection:var v=r*r+t*t,w=0;v>1e-4?(v=Math.abs(r*u-s*t)/v,s=t*v,u=r*v,w=Math.atan2(t,r)*a.MathUtils.radDeg):(r=0,t=0,w=90-Math.atan2(u,s)*a.MathUtils.radDeg);var x=e+h-w,y=e+i-w+90,m=a.MathUtils.cosDeg(x)*f,n=a.MathUtils.cosDeg(y)*g,o=a.MathUtils.sinDeg(x)*f,p=a.MathUtils.sinDeg(y)*g;k.a=r*m-s*o,k.c=r*n-s*p,k.b=t*m+u*o,k.d=t*n+u*p;break;case a.TransformMode.NoScale:case a.TransformMode.NoScaleOrReflection:var z=a.MathUtils.cosDeg(e),A=a.MathUtils.sinDeg(e),B=r*z+s*A,C=t*z+u*A,v=Math.sqrt(B*B+C*C);v>1e-5&&(v=1/v),B*=v,C*=v,v=Math.sqrt(B*B+C*C);var D=Math.PI/2+Math.atan2(C,B),E=Math.cos(D)*v,F=Math.sin(D)*v,m=a.MathUtils.cosDeg(h)*f,n=a.MathUtils.cosDeg(90+i)*g,o=a.MathUtils.sinDeg(h)*f,p=a.MathUtils.sinDeg(90+i)*g;return k.a=B*m+E*o,k.c=B*n+E*p,k.b=C*m+F*o,k.d=C*n+F*p,void((this.data.transformMode!=a.TransformMode.NoScaleOrReflection?r*u-s*t<0:this.skeleton.flipX!=this.skeleton.flipY!=b.yDown)&&(k.c=-k.c,k.d=-k.d))}this.skeleton.flipX&&(k.a=-k.a,k.c=-k.c),this.skeleton.flipY!=b.yDown&&(k.b=-k.b,k.d=-k.d)},b.prototype.setToSetupPose=function(){var a=this.data;this.x=a.x,this.y=a.y,this.rotation=a.rotation,this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.shearX=a.shearX,this.shearY=a.shearY},b.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*a.MathUtils.radDeg},b.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*a.MathUtils.radDeg},b.prototype.getWorldScaleX=function(){var a=this.matrix;return Math.sqrt(a.a*a.a+a.c*a.c)},b.prototype.getWorldScaleY=function(){var a=this.matrix;return Math.sqrt(a.b*a.b+a.d*a.d)},b.prototype.worldToLocalRotationX=function(){var b=this.parent;if(null==b)return this.arotation;var c=b.matrix,d=this.matrix;return Math.atan2(c.a*d.b-c.b*d.a,c.d*d.a-c.c*d.b)*a.MathUtils.radDeg},b.prototype.worldToLocalRotationY=function(){var b=this.parent;if(null==b)return this.arotation;var c=b.matrix,d=this.matrix;return Math.atan2(c.a*d.d-c.b*d.c,c.d*d.c-c.c*d.d)*a.MathUtils.radDeg},b.prototype.rotateWorld=function(b){var c=this.matrix,d=this.matrix.a,e=c.c,f=c.b,g=c.d,h=a.MathUtils.cosDeg(b),i=a.MathUtils.sinDeg(b);c.a=h*d-i*f,c.c=h*e-i*g,c.b=i*d+h*f,c.d=i*e+h*g,this.appliedValid=!1},b.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var b=this.parent,c=this.matrix;if(null==b)return this.ax=c.tx,this.ay=c.ty,this.arotation=Math.atan2(c.b,c.a)*a.MathUtils.radDeg,this.ascaleX=Math.sqrt(c.a*c.a+c.b*c.b),this.ascaleY=Math.sqrt(c.c*c.c+c.d*c.d),this.ashearX=0,void(this.ashearY=Math.atan2(c.a*c.c+c.b*c.d,c.a*c.d-c.b*c.c)*a.MathUtils.radDeg);var d=b.matrix,e=1/(d.a*d.d-d.b*d.c),f=c.tx-d.tx,g=c.ty-d.ty;this.ax=f*d.d*e-g*d.c*e,this.ay=g*d.a*e-f*d.b*e;var h=e*d.d,i=e*d.a,j=e*d.c,k=e*d.b,l=h*c.a-j*c.b,m=h*c.c-j*c.d,n=i*c.b-k*c.a,o=i*c.d-k*c.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(l*l+n*n),this.ascaleX>1e-4){var p=l*o-m*n;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(l*m+n*o,p)*a.MathUtils.radDeg,this.arotation=Math.atan2(n,l)*a.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(m*m+o*o),this.ashearY=0,this.arotation=90-Math.atan2(o,m)*a.MathUtils.radDeg},b.prototype.worldToLocal=function(a){var b=this.matrix,c=b.a,d=b.c,e=b.b,f=b.d,g=1/(c*f-d*e),h=a.x-b.tx,i=a.y-b.ty;return a.x=h*f*g-i*d*g,a.y=i*c*g-h*e*g,a},b.prototype.localToWorld=function(a){var b=this.matrix,c=a.x,d=a.y;return a.x=c*b.a+d*b.c+b.tx,a.y=c*b.b+d*b.d+b.ty,a},b}();b.yDown=!1,a.Bone=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a,b,d){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=c.Normal,a<0)throw new Error("index must be >= 0.");if(null==b)throw new Error("name cannot be null.");this.index=a,this.name=b,this.parent=d}return a}();a.BoneData=b;var c;!function(a){a[a.Normal=0]="Normal",a[a.OnlyTranslation=1]="OnlyTranslation",a[a.NoRotationOrReflection=2]="NoRotationOrReflection",a[a.NoScale=3]="NoScale",a[a.NoScaleOrReflection=4]="NoScaleOrReflection"}(c=a.TransformMode||(a.TransformMode={}))}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a,b){if(null==b)throw new Error("data cannot be null.");this.time=a,this.data=b}return a}();a.Event=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){this.name=a}return a}();a.EventData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a,b){if(this.mix=1,this.bendDirection=0,this.level=0,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.mix=a.mix,this.bendDirection=a.bendDirection,this.bones=new Array;for(var c=0;c<a.bones.length;c++)this.bones.push(b.findBone(a.bones[c].name));this.target=b.findBone(a.target.name)}return b.prototype.getOrder=function(){return this.data.order},b.prototype.apply=function(){this.update()},b.prototype.update=function(){var a=this.target,b=this.bones;switch(b.length){case 1:this.apply1(b[0],a.worldX,a.worldY,this.mix);break;case 2:this.apply2(b[0],b[1],a.worldX,a.worldY,this.bendDirection,this.mix)}},b.prototype.apply1=function(b,c,d,e){b.appliedValid||b.updateAppliedTransform();var f=b.parent.matrix,g=1/(f.a*f.d-f.b*f.c),h=c-f.tx,i=d-f.ty,j=(h*f.d-i*f.c)*g-b.ax,k=(i*f.a-h*f.b)*g-b.ay,l=Math.atan2(k,j)*a.MathUtils.radDeg-b.ashearX-b.arotation;b.ascaleX<0&&(l+=180),l>180?l-=360:l<-180&&(l+=360),b.updateWorldTransformWith(b.ax,b.ay,b.arotation+l*e,b.ascaleX,b.ascaleY,b.ashearX,b.ashearY)},b.prototype.apply2=function(b,c,d,e,f,g){if(0==g)return void c.updateWorldTransform();b.appliedValid||b.updateAppliedTransform(),c.appliedValid||c.updateAppliedTransform();var h=b.ax,i=b.ay,j=b.ascaleX,k=b.ascaleY,l=c.ascaleX,m=0,n=0,o=0;j<0?(j=-j,m=180,o=-1):(m=0,o=1),k<0&&(k=-k,o=-o),l<0?(l=-l,n=180):n=0;var p=b.matrix,q=c.ax,r=0,s=0,t=0,u=p.a,v=p.c,w=p.b,x=p.d,y=Math.abs(j-k)<=1e-4;y?(r=c.ay,s=u*q+v*r+p.tx,t=w*q+x*r+p.ty):(r=0,s=u*q+p.tx,t=w*q+p.ty);var z=(b.parent,b.parent.matrix);u=z.a,v=z.c,w=z.b,x=z.d;var A=1/(u*x-v*w),B=d-z.tx,C=e-z.ty,D=(B*x-C*v)*A-h,E=(C*u-B*w)*A-i;B=s-z.tx,C=t-z.ty;var F=(B*x-C*v)*A-h,G=(C*u-B*w)*A-i,H=Math.sqrt(F*F+G*G),I=c.data.length*l,J=0,K=0;a:if(y){I*=j;var L=(D*D+E*E-H*H-I*I)/(2*H*I);L<-1?L=-1:L>1&&(L=1),K=Math.acos(L)*f,u=H+I*L,v=I*Math.sin(K),J=Math.atan2(E*u-D*v,D*u+E*v)}else{u=j*I,v=k*I;var M=u*u,N=v*v,O=D*D+E*E,P=Math.atan2(E,D);w=N*H*H+M*O-M*N;var Q=-2*N*H,R=N-M;if((x=Q*Q-4*R*w)>=0){var S=Math.sqrt(x);Q<0&&(S=-S),S=-(Q+S)/2;var T=S/R,U=w/S,V=Math.abs(T)<Math.abs(U)?T:U;if(V*V<=O){C=Math.sqrt(O-V*V)*f,J=P-Math.atan2(C,V),K=Math.atan2(C/k,(V-H)/j);break a}}var W=0,X=Number.MAX_VALUE,Y=0,Z=0,$=0,_=0,aa=0,ba=0;B=H+u,x=B*B,x>_&&($=0,_=x,aa=B),B=H-u,x=B*B,x<X&&(W=a.MathUtils.PI,X=x,Y=B);var ca=Math.acos(-u*H/(M-N));B=u*Math.cos(ca)+H,C=v*Math.sin(ca),x=B*B+C*C,x<X&&(W=ca,X=x,Y=B,Z=C),x>_&&($=ca,_=x,aa=B,ba=C),O<=(X+_)/2?(J=P-Math.atan2(Z*f,Y),K=W*f):(J=P-Math.atan2(ba*f,aa),K=$*f)}var da=Math.atan2(r,q)*o,ea=b.arotation;J=(J-da)*a.MathUtils.radDeg+m-ea,J>180?J-=360:J<-180&&(J+=360),b.updateWorldTransformWith(h,i,ea+J*g,b.ascaleX,b.ascaleY,0,0),ea=c.arotation,K=((K+da)*a.MathUtils.radDeg-c.ashearX)*o+n-ea,K>180?K-=360:K<-180&&(K+=360),c.updateWorldTransformWith(q,r,ea+K*g,c.ascaleX,c.ascaleY,c.ashearX,c.ashearY)},b}();a.IkConstraint=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=a}return a}();a.IkConstraintData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a,b){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.bones=new Array;for(var c=0,d=a.bones.length;c<d;c++)this.bones.push(b.findBone(a.bones[c].name));this.target=b.findSlot(a.target.name),this.position=a.position,this.spacing=a.spacing,this.rotateMix=a.rotateMix,this.translateMix=a.translateMix}return b.prototype.apply=function(){this.update()},b.prototype.update=function(){var b=this.target.getAttachment();if(b instanceof a.PathAttachment){var c=this.rotateMix,d=this.translateMix,e=d>0,f=c>0;if(e||f){var g=this.data,h=g.spacingMode,i=h==a.SpacingMode.Length,j=g.rotateMode,k=j==a.RotateMode.Tangent,l=j==a.RotateMode.ChainScale,m=this.bones.length,n=k?m:m+1,o=this.bones,p=a.Utils.setArraySize(this.spaces,n),q=null,r=this.spacing;if(l||i){l&&(q=a.Utils.setArraySize(this.lengths,m));for(var s=0,t=n-1;s<t;){var u=o[s],v=u.matrix,w=u.data.length,x=w*v.a,y=w*v.b;w=Math.sqrt(x*x+y*y),l&&(q[s]=w),p[++s]=i?Math.max(0,w+r):r}}else for(var s=1;s<n;s++)p[s]=r;var z=this.computeWorldPositions(b,n,k,g.positionMode==a.PositionMode.Percent,h==a.SpacingMode.Percent),A=z[0],B=z[1],C=g.offsetRotation,D=!1;if(0==C)D=j==a.RotateMode.Chain;else{D=!1;var E=this.target.bone.matrix;C*=E.a*E.d-E.b*E.c>0?a.MathUtils.degRad:-a.MathUtils.degRad}for(var s=0,F=3;s<m;s++,F+=3){var u=o[s],v=u.matrix;v.tx+=(A-v.tx)*d,v.ty+=(B-v.ty)*d;var x=z[F],y=z[F+1],G=x-A,H=y-B;if(l){var I=q[s];if(0!=I){var J=(Math.sqrt(G*G+H*H)/I-1)*c+1;v.a*=J,v.b*=J}}if(A=x,B=y,f){var K=v.a,L=v.c,M=v.b,N=v.d,O=0,P=0,Q=0;if(O=k?z[F-1]:0==p[s+1]?z[F+2]:Math.atan2(H,G),O-=Math.atan2(M,K),D){P=Math.cos(O),Q=Math.sin(O);var R=u.data.length;A+=(R*(P*K-Q*M)-G)*c,B+=(R*(Q*K+P*M)-H)*c}else O+=C;O>a.MathUtils.PI?O-=a.MathUtils.PI2:O<-a.MathUtils.PI&&(O+=a.MathUtils.PI2),O*=c,P=Math.cos(O),Q=Math.sin(O),v.a=P*K-Q*M,v.c=P*L-Q*N,v.b=Q*K+P*M,v.d=Q*L+P*N}u.appliedValid=!1}}}},b.prototype.computeWorldPositions=function(c,d,e,f,g){var h=this.target,i=this.position,j=this.spaces,k=a.Utils.setArraySize(this.positions,3*d+2),l=null,m=c.closed,n=c.worldVerticesLength,o=n/6,p=b.NONE;if(!c.constantSpeed){var q=c.lengths;o-=m?1:2;var r=q[o];if(f&&(i*=r),g)for(var s=0;s<d;s++)j[s]*=r;l=a.Utils.setArraySize(this.world,8);for(var s=0,t=0,u=0;s<d;s++,t+=3){var v=j[s];i+=v;var w=i;if(m)w%=r,w<0&&(w+=r),u=0;else{if(w<0){p!=b.BEFORE&&(p=b.BEFORE,c.computeWorldVerticesWith(h,2,4,l,0)),this.addBeforePosition(w,l,0,k,t);continue}if(w>r){p!=b.AFTER&&(p=b.AFTER,c.computeWorldVerticesWith(h,n-6,4,l,0)),this.addAfterPosition(w-r,l,0,k,t);continue}}for(;;u++){var x=q[u];if(!(w>x)){if(0==u)w/=x;else{var y=q[u-1];w=(w-y)/(x-y)}break}}u!=p&&(p=u,m&&u==o?(c.computeWorldVerticesWith(h,n-4,4,l,0),c.computeWorldVerticesWith(h,0,4,l,4)):c.computeWorldVerticesWith(h,6*u+2,8,l,0)),this.addCurvePosition(w,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],k,t,e||s>0&&0==v)}return k}m?(n+=2,l=a.Utils.setArraySize(this.world,n),c.computeWorldVerticesWith(h,2,n-4,l,0),c.computeWorldVerticesWith(h,0,2,l,n-4),l[n-2]=l[0],l[n-1]=l[1]):(o--,n-=4,l=a.Utils.setArraySize(this.world,n),c.computeWorldVerticesWith(h,2,n,l,0));for(var z=a.Utils.setArraySize(this.curves,o),A=0,B=l[0],C=l[1],D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=0,O=0,P=0,Q=0,s=0,R=2;s<o;s++,R+=6)D=l[R],E=l[R+1],F=l[R+2],G=l[R+3],H=l[R+4],I=l[R+5],J=.1875*(B-2*D+F),K=.1875*(C-2*E+G),L=.09375*(3*(D-F)-B+H),M=.09375*(3*(E-G)-C+I),N=2*J+L,O=2*K+M,P=.75*(D-B)+J+.16666667*L,Q=.75*(E-C)+K+.16666667*M,A+=Math.sqrt(P*P+Q*Q),P+=N,Q+=O,N+=L,O+=M,A+=Math.sqrt(P*P+Q*Q),P+=N,Q+=O,A+=Math.sqrt(P*P+Q*Q),P+=N+L,Q+=O+M,A+=Math.sqrt(P*P+Q*Q),z[s]=A,B=H,C=I;if(f&&(i*=A),g)for(var s=0;s<d;s++)j[s]*=A;for(var S=this.segments,T=0,s=0,t=0,u=0,U=0;s<d;s++,t+=3){var v=j[s];i+=v;var w=i;if(m)w%=A,w<0&&(w+=A),u=0;else{if(w<0){this.addBeforePosition(w,l,0,k,t);continue}if(w>A){this.addAfterPosition(w-A,l,n-4,k,t);continue}}for(;;u++){var V=z[u];if(!(w>V)){if(0==u)w/=V;else{var y=z[u-1];w=(w-y)/(V-y)}break}}if(u!=p){p=u;var W=6*u;for(B=l[W],C=l[W+1],D=l[W+2],E=l[W+3],F=l[W+4],G=l[W+5],H=l[W+6],I=l[W+7],J=.03*(B-2*D+F),K=.03*(C-2*E+G),L=.006*(3*(D-F)-B+H),M=.006*(3*(E-G)-C+I),N=2*J+L,O=2*K+M,P=.3*(D-B)+J+.16666667*L,Q=.3*(E-C)+K+.16666667*M,T=Math.sqrt(P*P+Q*Q),S[0]=T,W=1;W<8;W++)P+=N,Q+=O,N+=L,O+=M,T+=Math.sqrt(P*P+Q*Q),S[W]=T;P+=N,Q+=O,T+=Math.sqrt(P*P+Q*Q),S[8]=T,P+=N+L,Q+=O+M,T+=Math.sqrt(P*P+Q*Q),S[9]=T,U=0}for(w*=T;;U++){var X=S[U];if(!(w>X)){if(0==U)w/=X;else{var y=S[U-1];w=U+(w-y)/(X-y)}break}}this.addCurvePosition(.1*w,B,C,D,E,F,G,H,I,k,t,e||s>0&&0==v)}return k},b.prototype.addBeforePosition=function(a,b,c,d,e){var f=b[c],g=b[c+1],h=b[c+2]-f,i=b[c+3]-g,j=Math.atan2(i,h);d[e]=f+a*Math.cos(j),d[e+1]=g+a*Math.sin(j),d[e+2]=j},b.prototype.addAfterPosition=function(a,b,c,d,e){var f=b[c+2],g=b[c+3],h=f-b[c],i=g-b[c+1],j=Math.atan2(i,h);d[e]=f+a*Math.cos(j),d[e+1]=g+a*Math.sin(j),d[e+2]=j},b.prototype.addCurvePosition=function(a,b,c,d,e,f,g,h,i,j,k,l){(0==a||isNaN(a))&&(a=1e-4);var m=a*a,n=m*a,o=1-a,p=o*o,q=p*o,r=o*a,s=3*r,t=o*s,u=s*a,v=b*q+d*t+f*u+h*n,w=c*q+e*t+g*u+i*n;j[k]=v,j[k+1]=w,l&&(j[k+2]=Math.atan2(w-(c*p+e*r*2+g*m),v-(b*p+d*r*2+f*m)))},b.prototype.getOrder=function(){return this.data.order},b}();b.NONE=-1,b.BEFORE=-2,b.AFTER=-3,a.PathConstraint=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){this.order=0,this.bones=new Array,this.name=a}return a}();a.PathConstraintData=b;!function(a){a[a.Fixed=0]="Fixed",a[a.Percent=1]="Percent"}(a.PositionMode||(a.PositionMode={}));!function(a){a[a.Length=0]="Length",a[a.Fixed=1]="Fixed",a[a.Percent=2]="Percent"}(a.SpacingMode||(a.SpacingMode={}));!function(a){a[a.Tangent=0]="Tangent",a[a.Chain=1]="Chain",a[a.ChainScale=2]="ChainScale"}(a.RotateMode||(a.RotateMode={}))}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(b){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==b)throw new Error("data cannot be null.");this.data=b,this.bones=new Array;for(var c=0;c<b.bones.length;c++){var d=b.bones[c],e=void 0;if(null==d.parent)e=new a.Bone(d,this,null);else{var f=this.bones[d.parent.index];e=new a.Bone(d,this,f),f.children.push(e)}this.bones.push(e)}this.slots=new Array,this.drawOrder=new Array;for(var c=0;c<b.slots.length;c++){var g=b.slots[c],e=this.bones[g.boneData.index],h=new a.Slot(g,e);this.slots.push(h),this.drawOrder.push(h)}this.ikConstraints=new Array;for(var c=0;c<b.ikConstraints.length;c++){var i=b.ikConstraints[c];this.ikConstraints.push(new a.IkConstraint(i,this))}this.transformConstraints=new Array;for(var c=0;c<b.transformConstraints.length;c++){var j=b.transformConstraints[c];this.transformConstraints.push(new a.TransformConstraint(j,this))}this.pathConstraints=new Array;for(var c=0;c<b.pathConstraints.length;c++){var k=b.pathConstraints[c];this.pathConstraints.push(new a.PathConstraint(k,this))}this.color=new a.Color(1,1,1,1),this.updateCache()}return b.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var a=this.bones,b=0,c=a.length;b<c;b++)a[b].sorted=!1;var d=this.ikConstraints,e=this.transformConstraints,f=this.pathConstraints,g=d.length,h=e.length,i=f.length,j=g+h+i;a:for(var b=0;b<j;b++){for(var k=0;k<g;k++){var l=d[k];if(l.data.order==b){this.sortIkConstraint(l);continue a}}for(var k=0;k<h;k++){var l=e[k];if(l.data.order==b){this.sortTransformConstraint(l);continue a}}for(var k=0;k<i;k++){var l=f[k];if(l.data.order==b){this.sortPathConstraint(l);continue a}}}for(var b=0,c=a.length;b<c;b++)this.sortBone(a[b])},b.prototype.sortIkConstraint=function(a){var b=a.target;this.sortBone(b);var c=a.bones,d=c[0];if(this.sortBone(d),c.length>1){var e=c[c.length-1];this._updateCache.indexOf(e)>-1||this.updateCacheReset.push(e)}this._updateCache.push(a),this.sortReset(d.children),c[c.length-1].sorted=!0},b.prototype.sortPathConstraint=function(b){var c=b.target,d=c.data.index,e=c.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,d,e),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,d,e);for(var f=0,g=this.data.skins.length;f<g;f++)this.sortPathConstraintAttachment(this.data.skins[f],d,e);var h=c.getAttachment();h instanceof a.PathAttachment&&this.sortPathConstraintAttachmentWith(h,e);for(var i=b.bones,j=i.length,f=0;f<j;f++)this.sortBone(i[f]);this._updateCache.push(b);for(var f=0;f<j;f++)this.sortReset(i[f].children);for(var f=0;f<j;f++)i[f].sorted=!0},b.prototype.sortTransformConstraint=function(a){this.sortBone(a.target);for(var b=a.bones,c=b.length,d=0;d<c;d++)this.sortBone(b[d]);this._updateCache.push(a);for(var d=0;d<c;d++)this.sortReset(b[d].children);for(var d=0;d<c;d++)b[d].sorted=!0},b.prototype.sortPathConstraintAttachment=function(a,b,c){var d=a.attachments[b];if(d)for(var e in d)this.sortPathConstraintAttachmentWith(d[e],c)},b.prototype.sortPathConstraintAttachmentWith=function(b,c){if(b instanceof a.PathAttachment){var d=b.bones;if(null==d)this.sortBone(c);else for(var e=this.bones,f=0;f<d.length;)for(var g=d[f++],h=f+g;f<h;f++){var i=d[f];this.sortBone(e[i])}}},b.prototype.sortBone=function(a){if(!a.sorted){var b=a.parent;null!=b&&this.sortBone(b),a.sorted=!0,this._updateCache.push(a)}},b.prototype.sortReset=function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];d.sorted&&this.sortReset(d.children),d.sorted=!1}},b.prototype.updateWorldTransform=function(){for(var a=this.updateCacheReset,b=0,c=a.length;b<c;b++){var d=a[b];d.ax=d.x,d.ay=d.y,d.arotation=d.rotation,d.ascaleX=d.scaleX,d.ascaleY=d.scaleY,d.ashearX=d.shearX,d.ashearY=d.shearY,d.appliedValid=!0}for(var e=this._updateCache,b=0,c=e.length;b<c;b++)e[b].update()},b.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},b.prototype.setBonesToSetupPose=function(){for(var a=this.bones,b=0,c=a.length;b<c;b++)a[b].setToSetupPose();for(var d=this.ikConstraints,b=0,c=d.length;b<c;b++){var e=d[b];e.bendDirection=e.data.bendDirection,e.mix=e.data.mix}for(var f=this.transformConstraints,b=0,c=f.length;b<c;b++){var e=f[b],g=e.data;e.rotateMix=g.rotateMix,e.translateMix=g.translateMix,e.scaleMix=g.scaleMix,e.shearMix=g.shearMix}for(var h=this.pathConstraints,b=0,c=h.length;b<c;b++){var e=h[b],g=e.data;e.position=g.position,e.spacing=g.spacing,e.rotateMix=g.rotateMix,e.translateMix=g.translateMix}},b.prototype.setSlotsToSetupPose=function(){var b=this.slots;a.Utils.arrayCopy(b,0,this.drawOrder,0,b.length);for(var c=0,d=b.length;c<d;c++)b[c].setToSetupPose()},b.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},b.prototype.findBone=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findBoneIndex=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++)if(b[c].data.name==a)return c;return-1},b.prototype.findSlot=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findSlotIndex=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++)if(b[c].data.name==a)return c;return-1},b.prototype.setSkinByName=function(a){var b=this.data.findSkin(a);if(null==b)throw new Error("Skin not found: "+a);this.setSkin(b)},b.prototype.setSkin=function(a){if(null!=a)if(null!=this.skin)a.attachAll(this,this.skin);else for(var b=this.slots,c=0,d=b.length;c<d;c++){var e=b[c],f=e.data.attachmentName;if(null!=f){var g=a.getAttachment(c,f);null!=g&&e.setAttachment(g)}}this.skin=a},b.prototype.getAttachmentByName=function(a,b){return this.getAttachment(this.data.findSlotIndex(a),b)},b.prototype.getAttachment=function(a,b){if(null==b)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var c=this.skin.getAttachment(a,b);if(null!=c)return c}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(a,b):null},b.prototype.setAttachment=function(a,b){if(null==a)throw new Error("slotName cannot be null.");for(var c=this.slots,d=0,e=c.length;d<e;d++){var f=c[d];if(f.data.name==a){var g=null;if(null!=b&&null==(g=this.getAttachment(d,b)))throw new Error("Attachment not found: "+b+", for slot: "+a);return void f.setAttachment(g)}}throw new Error("Slot not found: "+a)},b.prototype.findIkConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.ikConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findTransformConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.transformConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.findPathConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.pathConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.data.name==a)return e}return null},b.prototype.getBounds=function(b,c){if(null==b)throw new Error("offset cannot be null.");if(null==c)throw new Error("size cannot be null.");for(var d=this.drawOrder,e=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,i=0,j=d.length;i<j;i++){var k=d[i],l=null,m=k.getAttachment();if(m instanceof a.RegionAttachment?l=m.updateWorldVertices(k,!1):m instanceof a.MeshAttachment&&(l=m.updateWorldVertices(k,!0)),null!=l)for(var n=0,o=l.length;n<o;n+=8){var p=l[n],q=l[n+1];e=Math.min(e,p),f=Math.min(f,q),g=Math.max(g,p),h=Math.max(h,q)}}b.set(e,f),c.set(g-e,h-f)},b.prototype.update=function(a){this.time+=a},b}();a.Skeleton=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new a.Pool(function(){return a.Utils.newFloatArray(16)})}return b.prototype.update=function(b,c){if(null==b)throw new Error("skeleton cannot be null.");var d=this.boundingBoxes,e=this.polygons,f=this.polygonPool,g=b.slots,h=g.length;d.length=0,f.freeAll(e),e.length=0;for(var i=0;i<h;i++){var j=g[i],k=j.getAttachment();if(k instanceof a.BoundingBoxAttachment){var l=k;d.push(l);var m=f.obtain();m.length!=l.worldVerticesLength&&(m=a.Utils.newFloatArray(l.worldVerticesLength)),e.push(m),l.computeWorldVertices(j,m)}}c&&this.aabbCompute()},b.prototype.aabbCompute=function(){for(var a=Number.POSITIVE_INFINITY,b=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=this.polygons,f=0,g=e.length;f<g;f++)for(var h=e[f],i=h,j=0,k=h.length;j<k;j+=2){var l=i[j],m=i[j+1];a=Math.min(a,l),b=Math.min(b,m),c=Math.max(c,l),d=Math.max(d,m)}this.minX=a,this.minY=b,this.maxX=c,this.maxY=d},b.prototype.aabbContainsPoint=function(a,b){return a>=this.minX&&a<=this.maxX&&b>=this.minY&&b<=this.maxY},b.prototype.aabbIntersectsSegment=function(a,b,c,d){var e=this.minX,f=this.minY,g=this.maxX,h=this.maxY;if(a<=e&&c<=e||b<=f&&d<=f||a>=g&&c>=g||b>=h&&d>=h)return!1;var i=(d-b)/(c-a),j=i*(e-a)+b;if(j>f&&j<h)return!0;if((j=i*(g-a)+b)>f&&j<h)return!0;var k=(f-b)/i+a;return k>e&&k<g||(k=(h-b)/i+a)>e&&k<g},b.prototype.aabbIntersectsSkeleton=function(a){return this.minX<a.maxX&&this.maxX>a.minX&&this.minY<a.maxY&&this.maxY>a.minY},b.prototype.containsPoint=function(a,b){for(var c=this.polygons,d=0,e=c.length;d<e;d++)if(this.containsPointPolygon(c[d],a,b))return this.boundingBoxes[d];return null},b.prototype.containsPointPolygon=function(a,b,c){for(var d=a,e=a.length,f=e-2,g=!1,h=0;h<e;h+=2){var i=d[h+1],j=d[f+1];if(i<c&&j>=c||j<c&&i>=c){var k=d[h];k+(c-i)/(j-i)*(d[f]-k)<b&&(g=!g)}f=h}return g},b.prototype.intersectsSegment=function(a,b,c,d){for(var e=this.polygons,f=0,g=e.length;f<g;f++)if(this.intersectsSegmentPolygon(e[f],a,b,c,d))return this.boundingBoxes[f];return null},b.prototype.intersectsSegmentPolygon=function(a,b,c,d,e){for(var f=a,g=a.length,h=b-d,i=c-e,j=b*e-c*d,k=f[g-2],l=f[g-1],m=0;m<g;m+=2){var n=f[m],o=f[m+1],p=k*o-l*n,q=k-n,r=l-o,s=h*r-i*q,t=(j*q-h*p)/s;if((t>=k&&t<=n||t>=n&&t<=k)&&(t>=b&&t<=d||t>=d&&t<=b)){var u=(j*r-i*p)/s;if((u>=l&&u<=o||u>=o&&u<=l)&&(u>=c&&u<=e||u>=e&&u<=c))return!0}k=n,l=o}return!1},b.prototype.getPolygon=function(a){if(null==a)throw new Error("boundingBox cannot be null.");var b=this.boundingBoxes.indexOf(a);return-1==b?null:this.polygons[b]},b.prototype.getWidth=function(){return this.maxX-this.minX},b.prototype.getHeight=function(){return this.maxY-this.minY},b}();a.SkeletonBounds=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return a.prototype.findBone=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findBoneIndex=function(a){if(null==a)throw new Error("boneName cannot be null.");for(var b=this.bones,c=0,d=b.length;c<d;c++)if(b[c].name==a)return c;return-1},a.prototype.findSlot=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findSlotIndex=function(a){if(null==a)throw new Error("slotName cannot be null.");for(var b=this.slots,c=0,d=b.length;c<d;c++)if(b[c].name==a)return c;return-1},a.prototype.findSkin=function(a){if(null==a)throw new Error("skinName cannot be null.");for(var b=this.skins,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findEvent=function(a){if(null==a)throw new Error("eventDataName cannot be null.");for(var b=this.events,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findAnimation=function(a){if(null==a)throw new Error("animationName cannot be null.");for(var b=this.animations,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findIkConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.ikConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findTransformConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.transformConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findPathConstraint=function(a){if(null==a)throw new Error("constraintName cannot be null.");for(var b=this.pathConstraints,c=0,d=b.length;c<d;c++){var e=b[c];if(e.name==a)return e}return null},a.prototype.findPathConstraintIndex=function(a){if(null==a)throw new Error("pathConstraintName cannot be null.");for(var b=this.pathConstraints,c=0,d=b.length;c<d;c++)if(b[c].name==a)return c;return-1},a}();a.SkeletonData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=a}return b.prototype.readSkeletonData=function(c){var d=this.scale,e=new a.SkeletonData,f="string"==typeof c?JSON.parse(c):c,g=f.skeleton;if(null!=g&&(e.hash=g.hash,e.version=g.spine,e.width=g.width,e.height=g.height,e.fps=g.fps,e.imagesPath=g.images),f.bones)for(var h=0;h<f.bones.length;h++){var i=f.bones[h],j=null,k=this.getValue(i,"parent",null);if(null!=k&&null==(j=e.findBone(k)))throw new Error("Parent bone not found: "+k);var l=new a.BoneData(e.bones.length,i.name,j);l.length=this.getValue(i,"length",0)*d,l.x=this.getValue(i,"x",0)*d,l.y=this.getValue(i,"y",0)*d,l.rotation=this.getValue(i,"rotation",0),l.scaleX=this.getValue(i,"scaleX",1),l.scaleY=this.getValue(i,"scaleY",1),l.shearX=this.getValue(i,"shearX",0),l.shearY=this.getValue(i,"shearY",0),i.hasOwnProperty("inheritScale")||i.hasOwnProperty("inheritRotation")?l.transformMode=b.transformModeLegacy(this.getValue(i,"inheritRotation",!0),this.getValue(i,"inheritScale",!0)):l.transformMode=b.transformModeFromString(this.getValue(i,"transform","normal")),e.bones.push(l)}if(f.slots)for(var h=0;h<f.slots.length;h++){var m=f.slots[h],n=m.name,o=m.bone,p=e.findBone(o);if(null==p)throw new Error("Slot bone not found: "+o);var l=new a.SlotData(e.slots.length,n,p),q=this.getValue(m,"color",null);null!=q&&l.color.setFromString(q),l.attachmentName=this.getValue(m,"attachment",null),l.blendMode=b.blendModeFromString(this.getValue(m,"blend","normal")),e.slots.push(l)}if(f.ik)for(var h=0;h<f.ik.length;h++){var r=f.ik[h],l=new a.IkConstraintData(r.name);l.order=this.getValue(r,"order",0);for(var s=0;s<r.bones.length;s++){var o=r.bones[s],t=e.findBone(o);if(null==t)throw new Error("IK bone not found: "+o);l.bones.push(t)}var u=r.target;if(l.target=e.findBone(u),null==l.target)throw new Error("IK target bone not found: "+u);l.bendDirection=this.getValue(r,"bendPositive",!0)?1:-1,l.mix=this.getValue(r,"mix",1),e.ikConstraints.push(l)}if(f.transform)for(var h=0;h<f.transform.length;h++){var r=f.transform[h],l=new a.TransformConstraintData(r.name);l.order=this.getValue(r,"order",0);for(var s=0;s<r.bones.length;s++){var o=r.bones[s],t=e.findBone(o);if(null==t)throw new Error("Transform constraint bone not found: "+o);l.bones.push(t)}var u=r.target;if(l.target=e.findBone(u),null==l.target)throw new Error("Transform constraint target bone not found: "+u);l.offsetRotation=this.getValue(r,"rotation",0),l.offsetX=this.getValue(r,"x",0)*d,l.offsetY=this.getValue(r,"y",0)*d,l.offsetScaleX=this.getValue(r,"scaleX",0),l.offsetScaleY=this.getValue(r,"scaleY",0),l.offsetShearY=this.getValue(r,"shearY",0),l.rotateMix=this.getValue(r,"rotateMix",1),l.translateMix=this.getValue(r,"translateMix",1),l.scaleMix=this.getValue(r,"scaleMix",1),l.shearMix=this.getValue(r,"shearMix",1),e.transformConstraints.push(l)}if(f.path)for(var h=0;h<f.path.length;h++){var r=f.path[h],l=new a.PathConstraintData(r.name);l.order=this.getValue(r,"order",0);for(var s=0;s<r.bones.length;s++){var o=r.bones[s],t=e.findBone(o);if(null==t)throw new Error("Transform constraint bone not found: "+o);l.bones.push(t)}var u=r.target;if(l.target=e.findSlot(u),null==l.target)throw new Error("Path target slot not found: "+u);l.positionMode=b.positionModeFromString(this.getValue(r,"positionMode","percent")),l.spacingMode=b.spacingModeFromString(this.getValue(r,"spacingMode","length")),l.rotateMode=b.rotateModeFromString(this.getValue(r,"rotateMode","tangent")),l.offsetRotation=this.getValue(r,"rotation",0),l.position=this.getValue(r,"position",0),l.positionMode==a.PositionMode.Fixed&&(l.position*=d),l.spacing=this.getValue(r,"spacing",0),l.spacingMode!=a.SpacingMode.Length&&l.spacingMode!=a.SpacingMode.Fixed||(l.spacing*=d),l.rotateMix=this.getValue(r,"rotateMix",1),l.translateMix=this.getValue(r,"translateMix",1),e.pathConstraints.push(l)}if(f.skins)for(var v in f.skins){var w=f.skins[v],x=new a.Skin(v);for(var n in w){var y=e.findSlotIndex(n);if(-1==y)throw new Error("Slot not found: "+n);var m=w[n];for(var z in m){var A=this.readAttachment(m[z],x,y,z);null!=A&&x.addAttachment(y,z,A)}}e.skins.push(x),"default"==x.name&&(e.defaultSkin=x)}for(var h=0,B=this.linkedMeshes.length;h<B;h++){var C=this.linkedMeshes[h],x=null==C.skin?e.defaultSkin:e.findSkin(C.skin);if(null==x)throw new Error("Skin not found: "+C.skin);var D=x.getAttachment(C.slotIndex,C.parent);if(null==D)throw new Error("Parent mesh not found: "+C.parent);C.mesh.setParentMesh(D)}if(this.linkedMeshes.length=0,f.events)for(var E in f.events){var F=f.events[E],l=new a.EventData(E);l.intValue=this.getValue(F,"int",0),l.floatValue=this.getValue(F,"float",0),l.stringValue=this.getValue(F,"string",""),e.events.push(l)}if(f.animations)for(var G in f.animations){var H=f.animations[G];this.readAnimation(H,G,e)}return e},b.prototype.readAttachment=function(b,d,e,f){var g=this.scale;switch(f=this.getValue(b,"name",f),this.getValue(b,"type","region")){case"region":var h=this.getValue(b,"path",f),i=this.attachmentLoader.newRegionAttachment(d,f,h);if(null==i)return null;i.path=h,i.x=this.getValue(b,"x",0)*g,i.y=this.getValue(b,"y",0)*g,i.scaleX=this.getValue(b,"scaleX",1),i.scaleY=this.getValue(b,"scaleY",1),i.rotation=this.getValue(b,"rotation",0),i.width=b.width*g,i.height=b.height*g;var j=this.getValue(b,"color",null);return null!=j&&i.color.setFromString(j),i;case"boundingbox":var k=this.attachmentLoader.newBoundingBoxAttachment(d,f);if(null==k)return null;this.readVertices(b,k,b.vertexCount<<1);var j=this.getValue(b,"color",null);return null!=j&&k.color.setFromString(j),k;case"weightedmesh":case"skinnedmesh":case"mesh":case"linkedmesh":var h=this.getValue(b,"path",f),l=this.attachmentLoader.newMeshAttachment(d,f,h);if(null==l)return null;l.path=h;var j=this.getValue(b,"color",null);null!=j&&l.color.setFromString(j);var m=this.getValue(b,"parent",null);if(null!=m)return l.inheritDeform=this.getValue(b,"deform",!0),this.linkedMeshes.push(new c(l,this.getValue(b,"skin",null),e,m)),l;var n=b.uvs;return this.readVertices(b,l,n.length),l.triangles=b.triangles,l.regionUVs=n,l.hullLength=2*this.getValue(b,"hull",0),l;case"path":var h=this.attachmentLoader.newPathAttachment(d,f);if(null==h)return null;h.closed=this.getValue(b,"closed",!1),h.constantSpeed=this.getValue(b,"constantSpeed",!0);var o=b.vertexCount;this.readVertices(b,h,o<<1);for(var p=a.Utils.newArray(o/3,0),q=0;q<b.lengths.length;q++)p[q++]=b.lengths[q]*g;h.lengths=p;var j=this.getValue(b,"color",null);return null!=j&&h.color.setFromString(j),h}return null},b.prototype.readVertices=function(b,c,d){var e=this.scale;c.worldVerticesLength=d;var f=b.vertices;if(d==f.length){if(1!=e)for(var g=0,h=f.length;g<h;g++)f[g]*=e;return void(c.vertices=a.Utils.toFloatArray(f))}for(var i=new Array,j=new Array,g=0,h=f.length;g<h;){var k=f[g++];j.push(k);for(var l=g+4*k;g<l;g+=4)j.push(f[g]),i.push(f[g+1]*e),i.push(f[g+2]*e),i.push(f[g+3])}c.bones=j,c.vertices=a.Utils.toFloatArray(i)},b.prototype.readAnimation=function(b,c,d){var e=this.scale,f=new Array,g=0;if(b.slots)for(var h in b.slots){var i=b.slots[h],j=d.findSlotIndex(h);if(-1==j)throw new Error("Slot not found: "+h);for(var k in i){var l=i[k];if("color"==k){var m=new a.ColorTimeline(l.length);m.slotIndex=j;for(var n=0,o=0;o<l.length;o++){var p=l[o],q=new a.Color;q.setFromString(p.color),m.setFrame(n,p.time,q.r,q.g,q.b,q.a),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.ColorTimeline.ENTRIES])}else{if(!(k="attachment"))throw new Error("Invalid timeline type for a slot: "+k+" ("+h+")");var m=new a.AttachmentTimeline(l.length);m.slotIndex=j;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n++,p.time,p.name)}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}}}if(b.bones)for(var r in b.bones){var s=b.bones[r],t=d.findBoneIndex(r);if(-1==t)throw new Error("Bone not found: "+r);for(var k in s){var l=s[k];if("rotate"===k){var m=new a.RotateTimeline(l.length);m.boneIndex=t;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n,p.time,p.angle),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.RotateTimeline.ENTRIES])}else{if("translate"!==k&&"scale"!==k&&"shear"!==k)throw new Error("Invalid timeline type for a bone: "+k+" ("+r+")");var m=null,u=1;"scale"===k?m=new a.ScaleTimeline(l.length):"shear"===k?m=new a.ShearTimeline(l.length):(m=new a.TranslateTimeline(l.length),u=e),m.boneIndex=t;for(var n=0,o=0;o<l.length;o++){var p=l[o],v=this.getValue(p,"x",0),w=this.getValue(p,"y",0);m.setFrame(n,p.time,v*u,w*u),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.TranslateTimeline.ENTRIES])}}}if(b.ik)for(var x in b.ik){var y=b.ik[x],z=d.findIkConstraint(x),m=new a.IkConstraintTimeline(y.length);m.ikConstraintIndex=d.ikConstraints.indexOf(z);for(var n=0,o=0;o<y.length;o++){var p=y[o];m.setFrame(n,p.time,this.getValue(p,"mix",1),this.getValue(p,"bendPositive",!0)?1:-1),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.IkConstraintTimeline.ENTRIES])}if(b.transform)for(var x in b.transform){var y=b.transform[x],z=d.findTransformConstraint(x),m=new a.TransformConstraintTimeline(y.length);m.transformConstraintIndex=d.transformConstraints.indexOf(z);for(var n=0,o=0;o<y.length;o++){var p=y[o];m.setFrame(n,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.TransformConstraintTimeline.ENTRIES])}if(b.paths)for(var x in b.paths){var y=b.paths[x],A=d.findPathConstraintIndex(x);if(-1==A)throw new Error("Path constraint not found: "+x);var B=d.pathConstraints[A];for(var k in y){var l=y[k];if("position"===k||"spacing"===k){var m=null,u=1;"spacing"===k?(m=new a.PathConstraintSpacingTimeline(l.length),B.spacingMode!=a.SpacingMode.Length&&B.spacingMode!=a.SpacingMode.Fixed||(u=e)):(m=new a.PathConstraintPositionTimeline(l.length),B.positionMode==a.PositionMode.Fixed&&(u=e)),m.pathConstraintIndex=A;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n,p.time,this.getValue(p,k,0)*u),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===k){var m=new a.PathConstraintMixTimeline(l.length);m.pathConstraintIndex=A;for(var n=0,o=0;o<l.length;o++){var p=l[o];m.setFrame(n,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.PathConstraintMixTimeline.ENTRIES])}}}if(b.deform)for(var C in b.deform){var D=b.deform[C],E=d.findSkin(C);if(null==E)throw new Error("Skin not found: "+C);for(var h in D){var i=D[h],j=d.findSlotIndex(h);if(-1==j)throw new Error("Slot not found: "+i.name);for(var k in i){var l=i[k],F=E.getAttachment(j,k);if(null==F)throw new Error("Deform attachment not found: "+l.name);var G=null!=F.bones,H=F.vertices,I=G?H.length/3*2:H.length,m=new a.DeformTimeline(l.length);m.slotIndex=j,m.attachment=F;for(var n=0,J=0;J<l.length;J++){var p=l[J],K=void 0,L=this.getValue(p,"vertices",null);if(null==L)K=G?a.Utils.newFloatArray(I):H;else{K=a.Utils.newFloatArray(I);var M=this.getValue(p,"offset",0);if(a.Utils.arrayCopy(L,0,K,M,L.length),1!=e)for(var o=M,N=o+L.length;o<N;o++)K[o]*=e;if(!G)for(var o=0;o<I;o++)K[o]+=H[o]}m.setFrame(n,p.time,K),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}}}var O=b.drawOrder;if(null==O&&(O=b.draworder),null!=O){for(var m=new a.DrawOrderTimeline(O.length),P=d.slots.length,n=0,J=0;J<O.length;J++){var Q=O[J],R=null,S=this.getValue(Q,"offsets",null);if(null!=S){R=a.Utils.newArray(P,-1);for(var T=a.Utils.newArray(P-S.length,0),U=0,V=0,o=0;o<S.length;o++){var W=S[o],j=d.findSlotIndex(W.slot);if(-1==j)throw new Error("Slot not found: "+W.slot);for(;U!=j;)T[V++]=U++;R[U+W.offset]=U++}for(;U<P;)T[V++]=U++;for(var o=P-1;o>=0;o--)-1==R[o]&&(R[o]=T[--V])}m.setFrame(n++,Q.time,R)}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}if(b.events){for(var m=new a.EventTimeline(b.events.length),n=0,o=0;o<b.events.length;o++){var X=b.events[o],Y=d.findEvent(X.name);if(null==Y)throw new Error("Event not found: "+X.name);var Z=new a.Event(X.time,Y);Z.intValue=this.getValue(X,"int",Y.intValue),Z.floatValue=this.getValue(X,"float",Y.floatValue),Z.stringValue=this.getValue(X,"string",Y.stringValue),m.setFrame(n++,Z)}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}if(isNaN(g))throw new Error("Error while parsing animation, duration is NaN");d.animations.push(new a.Animation(c,f,g))},b.prototype.readCurve=function(a,b,c){if(a.curve)if("stepped"===a.curve)b.setStepped(c);else if("[object Array]"===Object.prototype.toString.call(a.curve)){var d=a.curve;b.setCurve(c,d[0],d[1],d[2],d[3])}},b.prototype.getValue=function(a,b,c){return void 0!==a[b]?a[b]:c},b.blendModeFromString=function(a){if("multiply"===a)return PIXI.BLEND_MODES.MULTIPLY;if("additive"===a)return PIXI.BLEND_MODES.ADD;if("screen"===a)return PIXI.BLEND_MODES.SCREEN;if("normal"===a)return PIXI.BLEND_MODES.NORMAL;throw new Error("Unknown blend mode: "+a)},b.positionModeFromString=function(b){if("fixed"==(b=b.toLowerCase()))return a.PositionMode.Fixed;if("percent"==b)return a.PositionMode.Percent;throw new Error("Unknown position mode: "+b)},b.spacingModeFromString=function(b){if("length"==(b=b.toLowerCase()))return a.SpacingMode.Length;if("fixed"==b)return a.SpacingMode.Fixed;if("percent"==b)return a.SpacingMode.Percent;throw new Error("Unknown position mode: "+b)},b.rotateModeFromString=function(b){if("tangent"==(b=b.toLowerCase()))return a.RotateMode.Tangent;if("chain"==b)return a.RotateMode.Chain;if("chainscale"==b)return a.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+b)},b.transformModeFromString=function(b){if("normal"==(b=b.toLowerCase()))return a.TransformMode.Normal;if("onlytranslation"==b)return a.TransformMode.OnlyTranslation;if("norotationorreflection"==b)return a.TransformMode.NoRotationOrReflection;if("noscale"==b)return a.TransformMode.NoScale;if("noscaleorreflection"==b)return a.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+b)},b.transformModeLegacy=function(b,c){return console.log("Deprecation Warning: re-export your model with spine 3.5, or downgrade to pixi-spine 1.1 branch. There were many breaking changes, place breakpoint here if you want to know which model is broken"),b&&c?a.TransformMode.Normal:b?a.TransformMode.NoScaleOrReflection:c?a.TransformMode.NoRotationOrReflection:a.TransformMode.OnlyTranslation},b}();a.SkeletonJson=b;var c=function(){function a(a,b,c,d){this.mesh=a,this.skin=b,this.slotIndex=c,this.parent=d}return a}()}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){if(this.attachments=new Array,null==a)throw new Error("name cannot be null.");this.name=a}return a.prototype.addAttachment=function(a,b,c){if(null==c)throw new Error("attachment cannot be null.");var d=this.attachments;a>=d.length&&(d.length=a+1),d[a]||(d[a]={}),d[a][b]=c},a.prototype.getAttachment=function(a,b){var c=this.attachments[a];return c?c[b]:null},a.prototype.attachAll=function(a,b){for(var c=0,d=0;d<a.slots.length;d++){var e=a.slots[d],f=e.getAttachment();if(f&&c<b.attachments.length){var g=b.attachments[c];for(var h in g){if(f==g[h]){var i=this.getAttachment(c,name);null!=i&&e.setAttachment(i);break}}}c++}},a}();a.Skin=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(b,c){if(this.attachmentVertices=new Array,null==b)throw new Error("data cannot be null.");if(null==c)throw new Error("bone cannot be null.");this.data=b,this.bone=c,this.color=new a.Color,this.blendMode=b.blendMode,this.setToSetupPose()}return b.prototype.getAttachment=function(){return this.attachment},b.prototype.setAttachment=function(a){this.attachment!=a&&(this.attachment=a,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},b.prototype.setAttachmentTime=function(a){this.attachmentTime=this.bone.skeleton.time-a},b.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},b.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},b}();a.Slot=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(b,c,d){if(this.color=new a.Color(1,1,1,1),b<0)throw new Error("index must be >= 0.");if(null==c)throw new Error("name cannot be null.");if(null==d)throw new Error("boneData cannot be null.");this.index=b,this.name=c,this.boneData=d}return b}();a.SlotData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){this._image=a}return a.prototype.getImage=function(){return this._image},a.filterFromString=function(a){switch(a.toLowerCase()){case"nearest":return c.Nearest;case"linear":return c.Linear;case"mipmap":return c.MipMap;case"mipmapnearestnearest":return c.MipMapNearestNearest;case"mipmaplinearnearest":return c.MipMapLinearNearest;case"mipmapnearestlinear":return c.MipMapNearestLinear;case"mipmaplinearlinear":return c.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+a)}},a.wrapFromString=function(a){switch(a.toLowerCase()){case"mirroredtepeat":return d.MirroredRepeat;case"clamptoedge":return d.ClampToEdge;case"repeat":return d.Repeat;default:throw new Error("Unknown texture wrap "+a)}},a}();a.Texture=b;var c;!function(a){a[a.Nearest=9728]="Nearest",a[a.Linear=9729]="Linear",a[a.MipMap=9987]="MipMap",a[a.MipMapNearestNearest=9984]="MipMapNearestNearest",a[a.MipMapLinearNearest=9985]="MipMapLinearNearest",a[a.MipMapNearestLinear=9986]="MipMapNearestLinear",a[a.MipMapLinearLinear=9987]="MipMapLinearLinear"}(c=a.TextureFilter||(a.TextureFilter={}));var d;!function(a){a[a.MirroredRepeat=33648]="MirroredRepeat",a[a.ClampToEdge=33071]="ClampToEdge",a[a.Repeat=10497]="Repeat"}(d=a.TextureWrap||(a.TextureWrap={}));var e=function(){function a(){this.size=null}return Object.defineProperty(a.prototype,"width",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.crop.width:a.trim?a.trim.width:a.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.crop.height:a.trim?a.trim.height:a.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"offsetX",{get:function(){var a=this.texture;return a.trim?a.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pixiOffsetY",{get:function(){var a=this.texture;return a.trim?a.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"spineOffsetY",{get:function(){var a=this.texture;return this.originalHeight-this.height-(a.trim?a.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"originalWidth",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.trim?a.trim.width:a.crop.width:a.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"originalHeight",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.trim?a.trim.height:a.crop.height:a.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),a}();a.TextureRegion=e}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(a,b,c){this.pages=new Array,this.regions=new Array,a&&this.addSpineAtlas(a,b,c)}return b.prototype.addTexture=function(b,c){for(var f=this.pages,g=null,h=0;h<f.length;h++)if(f[h].baseTexture===c.baseTexture){g=f[h];break}if(null===g){g=new d,g.name="texturePage";var i=c.baseTexture;g.width=i.realWidth,g.height=i.realHeight,g.baseTexture=i,g.minFilter=g.magFilter=a.TextureFilter.Nearest,g.uWrap=a.TextureWrap.ClampToEdge,g.vWrap=a.TextureWrap.ClampToEdge,f.push(g)}var j=new e;return j.name=b,j.page=g,j.texture=c,j.index=-1,this.regions.push(j),j},b.prototype.addTextureHash=function(a,b){for(var c in a)a.hasOwnProperty(c)&&this.addTexture(b&&-1!==c.indexOf(".")?c.substr(0,c.lastIndexOf(".")):c,a[c])},b.prototype.addSpineAtlas=function(a,b,c){return this.load(a,b,c)},b.prototype.load=function(b,f,g){var h=this;if(null==f)throw new Error("textureLoader cannot be null.");var i=new c(b),j=new Array(4),k=null,l=function(){for(;;){var b=i.readLine();if(null==b)return g&&g(h);if(b=b.trim(),0==b.length)k=null;else{if(!k){k=new d,k.name=b,2==i.readTuple(j)&&(k.width=parseInt(j[0]),k.height=parseInt(j[1]),i.readTuple(j)),i.readTuple(j),k.minFilter=a.Texture.filterFromString(j[0]),k.magFilter=a.Texture.filterFromString(j[1]);var c=i.readValue();k.uWrap=a.TextureWrap.ClampToEdge,k.vWrap=a.TextureWrap.ClampToEdge,"x"==c?k.uWrap=a.TextureWrap.Repeat:"y"==c?k.vWrap=a.TextureWrap.Repeat:"xy"==c&&(k.uWrap=k.vWrap=a.TextureWrap.Repeat),f(b,function(a){k.baseTexture=a,a.hasLoaded||(a.width=k.width,a.height=k.height),h.pages.push(k),k.setFilters(),k.width&&k.height||(k.width=a.realWidth,k.height=a.realHeight,k.width&&k.height||console.log("ERROR spine atlas page "+k.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),l()}),h.pages.push(k);break}var m=new e;m.name=b,m.page=k;var n="true"==i.readValue()?6:0;i.readTuple(j);var o=parseInt(j[0]),p=parseInt(j[1]);i.readTuple(j);var q=parseInt(j[0]),r=parseInt(j[1]),s=k.baseTexture.resolution;o/=s,p/=s,q/=s,r/=s;var t=new PIXI.Rectangle(o,p,n?r:q,n?q:r);4==i.readTuple(j)&&4==i.readTuple(j)&&i.readTuple(j);var u=parseInt(j[0])/s,v=parseInt(j[1])/s;i.readTuple(j);var w=parseInt(j[0])/s,x=parseInt(j[1])/s,y=new PIXI.Rectangle(0,0,u,v),z=new PIXI.Rectangle(w,v-r-x,q,r);if("4"==PIXI.VERSION[0])m.texture=new PIXI.Texture(m.page.baseTexture,t,y,z,n);else{var A=new PIXI.Rectangle(o,p,q,r),B=A.clone();z.width=u,z.height=v,m.texture=new PIXI.Texture(m.page.baseTexture,A,B,z,n)}m.index=parseInt(i.readValue()),m.texture._updateUvs(),h.regions.push(m)}}};l()},b.prototype.findRegion=function(a){for(var b=0;b<this.regions.length;b++)if(this.regions[b].name==a)return this.regions[b];return null},b.prototype.dispose=function(){for(var a=0;a<this.pages.length;a++)this.pages[a].baseTexture.dispose()},b}();a.TextureAtlas=b;var c=function(){function a(a){this.index=0,this.lines=a.split(/\r\n|\r|\n/)}return a.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},a.prototype.readValue=function(){var a=this.readLine(),b=a.indexOf(":");if(-1==b)throw new Error("Invalid line: "+a);return a.substring(b+1).trim()},a.prototype.readTuple=function(a){var b=this.readLine(),c=b.indexOf(":");if(-1==c)throw new Error("Invalid line: "+b);for(var d=0,e=c+1;d<3;d++){var f=b.indexOf(",",e);if(-1==f)break;a[d]=b.substr(e,f-e).trim(),e=f+1}return a[d]=b.substring(e).trim(),d+1},a}(),d=function(){function b(){}return b.prototype.setFilters=function(){var b=this.baseTexture,c=this.minFilter;c==a.TextureFilter.Linear?b.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==a.TextureFilter.Nearest?b.scaleMode=PIXI.SCALE_MODES.NEAREST:(b.mipmap=!0,c==a.TextureFilter.MipMapNearestNearest?b.scaleMode=PIXI.SCALE_MODES.NEAREST:b.scaleMode=PIXI.SCALE_MODES.LINEAR)},b}();a.TextureAtlasPage=d;var e=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b}(a.TextureRegion);a.TextureAtlasRegion=e}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function b(b,c){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new a.Vector2,null==b)throw new Error("data cannot be null.");if(null==c)throw new Error("skeleton cannot be null.");this.data=b,this.rotateMix=b.rotateMix,this.translateMix=b.translateMix,this.scaleMix=b.scaleMix,this.shearMix=b.shearMix,this.bones=new Array;for(var d=0;d<b.bones.length;d++)this.bones.push(c.findBone(b.bones[d].name));this.target=c.findBone(b.target.name)}return b.prototype.apply=function(){this.update()},b.prototype.update=function(){for(var b=this.rotateMix,c=this.translateMix,d=this.scaleMix,e=this.shearMix,f=this.target,g=f.matrix.a,h=f.matrix.c,i=f.matrix.b,j=f.matrix.d,k=this.bones,l=0,m=k.length;l<m;l++){var n=k[l],o=n.matrix,p=!1;if(0!=b){var q=o.a,r=o.c,s=o.b,t=o.d,u=Math.atan2(i,g)-Math.atan2(s,q)+this.data.offsetRotation*a.MathUtils.degRad;u>a.MathUtils.PI?u-=a.MathUtils.PI2:u<-a.MathUtils.PI&&(u+=a.MathUtils.PI2),u*=b;var v=Math.cos(u),w=Math.sin(u);o.a=v*q-w*s,o.c=v*r-w*t,o.b=w*q+v*s,o.d=w*r+v*t,p=!0}if(0!=c){var x=this.temp;f.localToWorld(x.set(this.data.offsetX,this.data.offsetY)),o.tx+=(x.x-o.tx)*c,o.ty+=(x.y-o.ty)*c,p=!0}if(d>0){var y=Math.sqrt(o.a*o.a+o.b*o.b),z=Math.sqrt(g*g+i*i);y>1e-5&&(y=(y+(z-y+this.data.offsetScaleX)*d)/y),o.a*=y,o.b*=y,y=Math.sqrt(o.c*o.c+o.d*o.d),z=Math.sqrt(h*h+j*j),y>1e-5&&(y=(y+(z-y+this.data.offsetScaleY)*d)/y),o.c*=y,o.d*=y,p=!0}if(e>0){var r=o.c,t=o.d,A=Math.atan2(t,r),u=Math.atan2(j,h)-Math.atan2(i,g)-(A-Math.atan2(o.b,o.a));u>a.MathUtils.PI?u-=a.MathUtils.PI2:u<-a.MathUtils.PI&&(u+=a.MathUtils.PI2),u=A+(u+this.data.offsetShearY*a.MathUtils.degRad)*e;var y=Math.sqrt(r*r+t*t);o.c=Math.cos(u)*y,o.d=Math.sin(u)*y,p=!0}p&&(n.appliedValid=!1)}},b.prototype.getOrder=function(){return this.data.order},b}();a.TransformConstraint=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(a){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,null==a)throw new Error("name cannot be null.");this.name=a}return a}();a.TransformConstraintData=b}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){!function(a){var b=function(){function a(){this.array=new Array}return a.prototype.add=function(a){var b=this.contains(a);return this.array[0|a]=0|a,!b},a.prototype.contains=function(a){return void 0!=this.array[0|a]},a.prototype.remove=function(a){this.array[0|a]=void 0},a.prototype.clear=function(){this.array.length=0},a}();a.IntSet=b;var c=function(){function a(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.r=a,this.g=b,this.b=c,this.a=d}return a.prototype.set=function(a,b,c,d){return this.r=a,this.g=b,this.b=c,this.a=d,this.clamp(),this},a.prototype.setFromColor=function(a){return this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this},a.prototype.setFromString=function(a){return a="#"==a.charAt(0)?a.substr(1):a,this.r=parseInt(a.substr(0,2),16)/255,this.g=parseInt(a.substr(2,2),16)/255,this.b=parseInt(a.substr(4,2),16)/255,this.a=(8!=a.length?255:parseInt(a.substr(6,2),16))/255,this},a.prototype.add=function(a,b,c,d){return this.r+=a,this.g+=b,this.b+=c,this.a+=d,this.clamp(),this},a.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},a}();c.WHITE=new c(1,1,1,1),c.RED=new c(1,0,0,1),c.GREEN=new c(0,1,0,1),c.BLUE=new c(0,0,1,1),c.MAGENTA=new c(1,0,1,1),a.Color=c;var d=function(){function a(){}return a.clamp=function(a,b,c){return a<b?b:a>c?c:a},a.cosDeg=function(b){return Math.cos(b*a.degRad)},a.sinDeg=function(b){return Math.sin(b*a.degRad)},a.signum=function(a){return a>0?1:a<0?-1:0},a.toInt=function(a){return a>0?Math.floor(a):Math.ceil(a)},a.cbrt=function(a){var b=Math.pow(Math.abs(a),1/3);return a<0?-b:b},a}();d.PI=3.1415927,d.PI2=2*d.PI,d.radiansToDegrees=180/d.PI,d.radDeg=d.radiansToDegrees,d.degreesToRadians=d.PI/180,d.degRad=d.degreesToRadians,a.MathUtils=d;var e=function(){function a(){}return a.arrayCopy=function(a,b,c,d,e){for(var f=b,g=d;f<b+e;f++,g++)c[g]=a[f]},a.setArraySize=function(a,b,c){void 0===c&&(c=0);var d=a.length;if(d==b)return a;if(a.length=b,d<b)for(var e=d;e<b;e++)a[e]=c;return a},a.ensureArrayCapacity=function(b,c,d){return void 0===d&&(d=0),b.length>=c?b:a.setArraySize(b,c,d)},a.newArray=function(a,b){for(var c=new Array(a),d=0;d<a;d++)c[d]=b;return c},a.newFloatArray=function(b){if(a.SUPPORTS_TYPED_ARRAYS)return new Float32Array(b);for(var c=new Array(b),d=0;d<c.length;d++)c[d]=0;return c},a.toFloatArray=function(b){return a.SUPPORTS_TYPED_ARRAYS?new Float32Array(b):b},a}();e.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,a.Utils=e;var f=function(){function a(){}return a.logBones=function(a){for(var b=0;b<a.bones.length;b++){var c=a.bones[b],d=c.matrix;console.log(c.data.name+", "+d.a+", "+d.b+", "+d.c+", "+d.d+", "+d.tx+", "+d.ty)}},a}();a.DebugUtils=f;var g=function(){function a(a){this.items=new Array,this.instantiator=a}return a.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},a.prototype.free=function(a){a.reset&&a.reset(),this.items.push(a)},a.prototype.freeAll=function(a){for(var b=0;b<a.length;b++)a[b].reset&&a[b].reset(),this.items[b]=a[b]},a.prototype.clear=function(){this.items.length=0},a}();a.Pool=g;var h=function(){function a(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this.x=a,this.y=b}return a.prototype.set=function(a,b){return this.x=a,this.y=b,this},a.prototype.length=function(){var a=this.x,b=this.y;return Math.sqrt(a*a+b*b)},a.prototype.normalize=function(){var a=this.length();return 0!=a&&(this.x/=a,this.y/=a),this},a}();a.Vector2=h;var i=function(){function a(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return a.prototype.update=function(){var a=Date.now()/1e3;this.delta=a-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=a,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},a}();a.TimeKeeper=i}(a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){function b(a){var b=PIXI.loaders.Resource.TYPE;return b?a.type===b.JSON:a.isJson}function c(){return function(c,e){if(!c.data||!b(c)||!c.data.bones)return e();var f=c.metadata?c.metadata.spineAtlas:null;if(!1===f)return e();if(f&&f.pages){var g=new a.core.SkeletonJson(new a.core.AtlasAttachmentLoader(f)),h=g.readSkeletonData(c.data);return c.spineData=h,c.spineAtlas=f,e()}var i=".atlas";c.metadata&&c.metadata.spineAtlasSuffix&&(i=c.metadata.spineAtlasSuffix);var j=c.url.substr(0,c.url.lastIndexOf("."))+i;j=j.replace(this.baseUrl,"");var k={crossOrigin:c.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:c.metadata?c.metadata.spineMetadata:null,parentResource:c},l={crossOrigin:c.crossOrigin,metadata:c.metadata?c.metadata.imageMetadata:null,parentResource:c},m=c.url.substr(0,c.url.lastIndexOf("/")+1);m=m.replace(this.baseUrl,"");var n=d(this,c.name+"_atlas_page_",m,l);this.add(c.name+"_atlas",j,k,function(b){new a.core.TextureAtlas(b.xhr.responseText,n,function(b){var d=new a.core.SkeletonJson(new a.core.AtlasAttachmentLoader(b)),f=d.readSkeletonData(c.data);c.spineData=f,c.spineAtlas=b,e()})})}}function d(a,b,c,d){return c&&c.lastIndexOf("/")!==c.length-1&&(c+="/"),function(e,f){var g=b+e,h=c+e;a.add(g,h,d,function(a){f(a.texture.baseTexture)})}}function e(a,b){return a&&a.lastIndexOf("/")!==a.length-1&&(a+="/"),function(a,c){c(PIXI.BaseTexture.fromImage(a,b))}}a.atlasParser=c,a.imageLoaderAdapter=d,a.syncImageLoaderAdapter=e,PIXI.loaders.Loader.addPixiMiddleware(c),PIXI.loader.use(c())}(pixi_spine||(pixi_spine={})),function(a){function b(){var a=this.parent.worldTransform,b=this.worldTransform,c=this.localTransform;b.a=c.a*a.a+c.b*a.c,b.b=c.a*a.b+c.b*a.d,b.c=c.c*a.a+c.d*a.c,b.d=c.c*a.b+c.d*a.d,b.tx=c.tx*a.a+c.ty*a.c+a.tx,b.ty=c.tx*a.b+c.ty*a.d+a.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}a.core.Bone.yDown=!0;var c=[0,0,0],d=function(a){function b(b){return a.call(this,b)||this}return __extends(b,a),b}(PIXI.Sprite);a.SpineSprite=d;var e=function(a){function b(b,c,d,e,f){return a.call(this,b,c,d,e,f)||this}return __extends(b,a),b}(PIXI.mesh.Mesh);a.SpineMesh=e;var f=function(f){function g(b){var c=f.call(this)||this;if(c.hackTextureBySlotName=function(a,b,c){void 0===b&&(b=null),void 0===c&&(c=null);var d=this.skeleton.findSlotIndex(a);return-1!=d&&this.hackTextureBySlotIndex(d,b,c)},!b)throw new Error("The spineData param is required.");if("string"==typeof b)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');c.spineData=b,c.skeleton=new a.core.Skeleton(b),c.skeleton.updateWorldTransform(),c.stateData=new a.core.AnimationStateData(b),c.state=new a.core.AnimationState(c.stateData),c.slotContainers=[];for(var d=0,e=c.skeleton.slots.length;d<e;d++){var g=c.skeleton.slots[d],h=g.attachment,i=new PIXI.Container;if(c.slotContainers.push(i),c.addChild(i),h instanceof a.core.RegionAttachment){var j=h.region.name,k=c.createSprite(g,h,j);g.currentSprite=k,g.currentSpriteName=j,i.addChild(k)}else{if(!(h instanceof a.core.MeshAttachment))continue;var l=c.createMesh(g,h);g.currentMesh=l,g.currentMeshName=h.name,i.addChild(l)}}return c.autoUpdate=!0,c.tintRgb=new Float32Array([1,1,1]),c}return __extends(g,f),Object.defineProperty(g.prototype,"autoUpdate",{get:function(){return this.updateTransform===g.prototype.autoUpdateTransform},set:function(a){this.updateTransform=a?g.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=PIXI.utils.hex2rgb(a,this.tintRgb)},enumerable:!0,configurable:!0}),g.prototype.update=function(d){this.state.update(d),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var e=this.skeleton.drawOrder,f=this.skeleton.slots,g=0,h=e.length;g<h;g++)this.children[g]=this.slotContainers[e[g].data.index];var i=this.tintRgb[0],j=this.tintRgb[1],k=this.tintRgb[2];for(g=0,h=f.length;g<h;g++){var l=f[g],m=l.attachment,n=this.slotContainers[g];if(m){var o=m.color;if(m instanceof a.core.RegionAttachment){var p=m.region;if(p){l.currentMesh&&(l.currentMesh.visible=!1,l.currentMesh=null,l.currentMeshName=void 0);var q=p;if(!l.currentSpriteName||l.currentSpriteName!==q.name){var r=q.name;if(l.currentSprite&&(l.currentSprite.visible=!1),l.sprites=l.sprites||{},void 0!==l.sprites[r])l.sprites[r].visible=!0;else{var s=this.createSprite(l,m,r);n.addChild(s)}l.currentSprite=l.sprites[r],l.currentSpriteName=r}}if(n.transform){var t=n.transform,u=t,v=void 0;u.matrix2d?(v=u.matrix2d,u._dirtyVersion++,u.version=u._dirtyVersion,u.isStatic=!0,u.operMode=0):(u.position&&(t=new PIXI.TransformBase,n.transform=t),v=t.localTransform),l.bone.matrix.copy(v)}else{var w=n.localTransform||new PIXI.Matrix;l.bone.matrix.copy(w),n.localTransform=w,n.displayObjectUpdateTransform=b}c[0]=i*l.color.r*o.r,c[1]=j*l.color.g*o.g,c[2]=k*l.color.b*o.b,l.currentSprite.tint=PIXI.utils.rgb2hex(c),l.currentSprite.blendMode=l.blendMode}else{if(!(m instanceof a.core.MeshAttachment)){n.visible=!1;continue}if(l.currentSprite&&(l.currentSprite.visible=!1,l.currentSprite=null,l.currentSpriteName=void 0,n.transform?n.transform=new PIXI.TransformStatic:(n.localTransform=new PIXI.Matrix,n.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform)),!l.currentMeshName||l.currentMeshName!==m.name){var x=m.name;if(l.currentMesh&&(l.currentMesh.visible=!1),l.meshes=l.meshes||{},void 0!==l.meshes[x])l.meshes[x].visible=!0;else{var y=this.createMesh(l,m);n.addChild(y)}l.currentMesh=l.meshes[x],l.currentMeshName=x}if(m.computeWorldVertices(l,l.currentMesh.vertices),"3"!==PIXI.VERSION[0]){var z=l.currentMesh.tintRgb;z[0]=i*l.color.r*o.r,z[1]=j*l.color.g*o.g,z[2]=k*l.color.b*o.b}l.currentMesh.blendMode=l.blendMode}n.visible=!0,n.alpha=l.color.a}else n.visible=!1}},g.prototype.setSpriteRegion=function(a,b,c){b.region=c,b.texture=c.texture,c.size?(b.scale.x=c.size.width/c.originalWidth,b.scale.y=-c.size.height/c.originalHeight):(b.scale.x=a.scaleX*a.width/c.originalWidth,b.scale.y=-a.scaleY*a.height/c.originalHeight)},g.prototype.setMeshRegion=function(a,b,c){b.region=c,b.texture=c.texture,a.updateUVs(c,b.uvs),b.dirty++},g.prototype.autoUpdateTransform=function(){if(g.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var a=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(a)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},g.prototype.createSprite=function(b,c,e){var f=c.region;b.tempAttachment===c&&(f=b.tempRegion,b.tempAttachment=null,b.tempRegion=null);var g=f.texture,h=new d(g);return h.rotation=c.rotation*a.core.MathUtils.degRad,h.anchor.x=.5,h.anchor.y=.5,h.position.x=c.x,h.position.y=c.y,h.alpha=c.color.a,h.region=c.region,this.setSpriteRegion(c,h,c.region),b.sprites=b.sprites||{},b.sprites[e]=h,h},g.prototype.createMesh=function(a,b){var c=b.region;a.tempAttachment===b&&(c=a.tempRegion,a.tempAttachment=null,a.tempRegion=null);var d=new e(c.texture,new Float32Array(b.regionUVs.length),new Float32Array(b.regionUVs.length),new Uint16Array(b.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return d.canvasPadding=1.5,d.alpha=b.color.a,d.region=b.region,this.setMeshRegion(b,d,c),a.meshes=a.meshes||{},a.meshes[b.name]=d,d},g.prototype.hackTextureBySlotIndex=function(b,c,d){void 0===c&&(c=null),void 0===d&&(d=null);var e=this.skeleton.slots[b];if(!e)return!1;var f=e.attachment,g=f.region;return c&&(g=new a.core.TextureRegion,g.texture=c,g.size=d),e.currentSprite&&e.currentSprite.region!=g?(this.setSpriteRegion(f,e.currentSprite,g),e.currentSprite.region=g):e.currentMesh&&e.currentMesh.region!=g?this.setMeshRegion(f,e.currentMesh,g):(e.tempRegion=g,e.tempAttachment=f),!0},g}(PIXI.Container);f.globalAutoUpdate=!0,a.Spine=f}(pixi_spine||(pixi_spine={})),PIXI.spine=pixi_spine,function(a,b){function c(a){this.initialize(a)}c.prototype=Object.create(PIXI.spine.Spine.prototype),c.prototype.constructor=c,c.prototype.initialize=function(a){if(!ContentManager.spine[a])throw"Non Existing Spine Skeleton - "+a;PIXI.spine.Spine.call(this,ContentManager.spine[a].spineData),this.skeleton.setToSetupPose(),this.update(0),this.autoUpdate=!1,this.state.timeScale=.001,this.state.onEvent=this.onEvent.bind(this),this.callback=null,this.animationScale=1},c.prototype.onEvent=function(a,b){},c.prototype.play=function(a,b,c,d){c=void 0===c||c,b=b||!1,this.callback=d||function(){},this.state.setAnimation(0,a,c),this.skeleton.flipX=b;var e=this;d&&(this.state.clearListeners(),this.state.addListener({complete:function(a,b){e.callback()}}))},c.prototype.setScale=function(a){this.animationScale=a;var b=this.spineData.findBone("root");b.scaleX=a,b.scaleY=a},c.prototype.getBoundingBoxByName=function(a,b,c){var d=this.skeleton.getAttachmentBySlotName(a,b),e=[],f=this.bounds.pos,g=this.skeleton.findBone(c);d.computeWorldVertices(f.x,f.y,g,e);for(var h=[],i=new V,j=0;j<e.length;j++)if(j%2==1){var k=new V(e[j-1],e[j]);1===j&&i.copy(k),k.sub(i),h.push(k)}return new SAT.Polygon((new V).copy(i),h)},a.SpineAnimation=c}(window);